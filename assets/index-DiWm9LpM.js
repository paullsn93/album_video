(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},hl={};var x_;function wA(){if(x_)return hl;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var M_;function RA(){return M_||(M_=1,Sd.exports=wA()),Sd.exports}var j=RA(),bd={exports:{}},At={};var V_;function IA(){if(V_)return At;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function mt(O,Y,it){this.props=O,this.context=Y,this.refs=W,this.updater=it||J}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=mt.prototype;function yt(O,Y,it){this.props=O,this.context=Y,this.refs=W,this.updater=it||J}var Gt=yt.prototype=new Et;Gt.constructor=yt,st(Gt,mt.prototype),Gt.isPureReactComponent=!0;var Ft=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,Y,it){var B=it.ref;return{$$typeof:r,type:O,key:Y,ref:B!==void 0?B:null,props:it}}function M(O,Y){return R(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var w=/\/+/g;function ee(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,it,B,et){var ot=typeof O;(ot==="undefined"||ot==="boolean")&&(O=null);var ut=!1;if(O===null)ut=!0;else switch(ot){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(O.$$typeof){case r:case t:ut=!0;break;case A:return ut=O._init,G(ut(O._payload),Y,it,B,et)}}if(ut)return et=et(O),ut=B===""?"."+ee(O,0):B,Ft(et)?(it="",ut!=null&&(it=ut.replace(w,"$&/")+"/"),G(et,Y,it,"",function(De){return De})):et!=null&&(N(et)&&(et=M(et,it+(et.key==null||O&&O.key===et.key?"":(""+et.key).replace(w,"$&/")+"/")+ut)),Y.push(et)),1;ut=0;var gt=B===""?".":B+":";if(Ft(O))for(var Rt=0;Rt<O.length;Rt++)B=O[Rt],ot=gt+ee(B,Rt),ut+=G(B,Y,it,ot,et);else if(Rt=Q(O),typeof Rt=="function")for(O=Rt.call(O),Rt=0;!(B=O.next()).done;)B=B.value,ot=gt+ee(B,Rt++),ut+=G(B,Y,it,ot,et);else if(ot==="object"){if(typeof O.then=="function")return G(fe(O),Y,it,B,et);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ut}function nt(O,Y,it){if(O==null)return O;var B=[],et=0;return G(O,B,"","",function(ot){return Y.call(it,ot,et++)}),B}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:nt,forEach:function(O,Y,it){nt(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=S,At.Children=qt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=yt,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var B=st({},O.props),et=O.key;if(Y!=null)for(ot in Y.key!==void 0&&(et=""+Y.key),Y)!b.call(Y,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&Y.ref===void 0||(B[ot]=Y[ot]);var ot=arguments.length-2;if(ot===1)B.children=it;else if(1<ot){for(var ut=Array(ot),gt=0;gt<ot;gt++)ut[gt]=arguments[gt+2];B.children=ut}return R(O.type,et,B)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Y,it){var B,et={},ot=null;if(Y!=null)for(B in Y.key!==void 0&&(ot=""+Y.key),Y)b.call(Y,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(et[B]=Y[B]);var ut=arguments.length-2;if(ut===1)et.children=it;else if(1<ut){for(var gt=Array(ut),Rt=0;Rt<ut;Rt++)gt[Rt]=arguments[Rt+2];et.children=gt}if(O&&O.defaultProps)for(B in ut=O.defaultProps,ut)et[B]===void 0&&(et[B]=ut[B]);return R(O,ot,et)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},At.startTransition=function(O){var Y=C.T,it={};C.T=it;try{var B=O(),et=C.S;et!==null&&et(it,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(kt,Ut)}catch(ot){Ut(ot)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),C.T=Y}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(O){return C.H.use(O)},At.useActionState=function(O,Y,it){return C.H.useActionState(O,Y,it)},At.useCallback=function(O,Y){return C.H.useCallback(O,Y)},At.useContext=function(O){return C.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},At.useEffect=function(O,Y){return C.H.useEffect(O,Y)},At.useEffectEvent=function(O){return C.H.useEffectEvent(O)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(O,Y,it){return C.H.useImperativeHandle(O,Y,it)},At.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},At.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},At.useMemo=function(O,Y){return C.H.useMemo(O,Y)},At.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},At.useReducer=function(O,Y,it){return C.H.useReducer(O,Y,it)},At.useRef=function(O){return C.H.useRef(O)},At.useState=function(O){return C.H.useState(O)},At.useSyncExternalStore=function(O,Y,it){return C.H.useSyncExternalStore(O,Y,it)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var k_;function Em(){return k_||(k_=1,bd.exports=IA()),bd.exports}var ne=Em(),wd={exports:{}},fl={},Rd={exports:{}},Id={};var U_;function CA(){return U_||(U_=1,(function(r){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var Ut=ht-1>>>1,qt=G[Ut];if(0<l(qt,nt))G[Ut]=nt,G[ht]=qt,ht=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var Ut=0,qt=G.length,O=qt>>>1;Ut<O;){var Y=2*(Ut+1)-1,it=G[Y],B=Y+1,et=G[B];if(0>l(it,ht))B<qt&&0>l(et,it)?(G[Ut]=et,G[B]=ht,Ut=B):(G[Ut]=it,G[Y]=ht,Ut=Y);else if(B<qt&&0>l(et,ht))G[Ut]=et,G[B]=ht,Ut=B;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,x=3,Q=!1,J=!1,st=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Gt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=G)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Ft(G){if(st=!1,Gt(G),!J)if(i(y)!==null)J=!0,kt||(kt=!0,k());else{var nt=i(_);nt!==null&&fe(Ft,nt.startTime-G)}}var kt=!1,C=-1,b=5,R=-1;function M(){return W?!0:!(r.unstable_now()-R<b)}function N(){if(W=!1,kt){var G=r.unstable_now();R=G;var nt=!0;try{t:{J=!1,st&&(st=!1,Et(C),C=-1),Q=!0;var ht=x;try{e:{for(Gt(G),S=i(y);S!==null&&!(S.expirationTime>G&&M());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,x=S.priorityLevel;var qt=Ut(S.expirationTime<=G);if(G=r.unstable_now(),typeof qt=="function"){S.callback=qt,Gt(G),nt=!0;break e}S===i(y)&&a(y),Gt(G)}else a(y);S=i(y)}if(S!==null)nt=!0;else{var O=i(_);O!==null&&fe(Ft,O.startTime-G),nt=!1}}break t}finally{S=null,x=ht,Q=!1}nt=void 0}}finally{nt?k():kt=!1}}}var k;if(typeof yt=="function")k=function(){yt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=N,k=function(){ee.postMessage(null)}}else k=function(){mt(N,0)};function fe(G,nt){C=mt(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return G()}finally{x=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=x;x=G;try{return nt()}finally{x=ht}},r.unstable_scheduleCallback=function(G,nt,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,G={id:A++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:qt,sortIndex:-1},ht>Ut?(G.sortIndex=ht,t(_,G),i(y)===null&&G===i(_)&&(st?(Et(C),C=-1):st=!0,fe(Ft,ht-Ut))):(G.sortIndex=qt,t(y,G),J||Q||(J=!0,kt||(kt=!0,k()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var nt=x;return function(){var ht=x;x=nt;try{return G.apply(this,arguments)}finally{x=ht}}}})(Id)),Id}var L_;function NA(){return L_||(L_=1,Rd.exports=CA()),Rd.exports}var Cd={exports:{}},Ze={};var P_;function DA(){if(P_)return Ze;P_=1;var r=Em();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ze.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ze.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ze.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ze.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:Q}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ze.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ze.requestFormReset=function(y){a.d.r(y)},Ze.unstable_batchedUpdates=function(y,_){return y(_)},Ze.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var z_;function OA(){if(z_)return Cd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=DA(),Cd.exports}var j_;function xA(){if(j_)return fl;j_=1;var r=NA(),t=Em(),i=OA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case Ft:return"Suspense";case kt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case yt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function O(e){return{current:e}}function Y(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function it(e,n){qt++,Ut[qt]=e.current,e.current=n}var B=O(null),et=O(null),ot=O(null),ut=O(null);function gt(e,n){switch(it(ot,n),it(et,e),it(B,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(B),it(B,e)}function Rt(){Y(B),Y(et),Y(ot)}function De(e){e.memoizedState!==null&&it(ut,e);var n=B.current,s=n_(n,e.type);n!==s&&(it(et,e),it(B,s))}function Rn(e){et.current===e&&(Y(B),Y(et)),ut.current===e&&(Y(ut),ol._currentValue=ht)}var Bn,ke;function gn(e){if(Bn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Bn=n&&n[1]||"",ke=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bn+e+ke}var or=!1;function lr(e,n){if(!e||or)return"";or=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{or=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?gn(s):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return e.child!==n&&n!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return gn("Activity");default:return""}}function lo(e){try{var n="",s=null;do n+=oo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,bh=r.unstable_shouldYield,Kl=r.unstable_requestPaint,nn=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,uo=r.unstable_ImmediatePriority,co=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Yl=r.unstable_IdlePriority,Xl=r.log,Zl=r.unstable_setDisableYieldValue,Hn=null,qe=null;function In(e){if(typeof Xl=="function"&&Zl(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Hn,e)}catch{}}var de=Math.clz32?Math.clz32:Jl,$l=Math.log,$r=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-($l(e)/$r|0)|0}var si=256,cr=262144,ve=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(g&=E,g!==0?h=ri(g):s||(s=E&~e,s!==0&&(h=ri(s))))):(E=o&~f,E!==0?h=ri(E):g!==0?h=ri(g):s||(s=o&~e,s!==0&&(h=ri(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-de(s),X=1<<F;E[F]=0,I[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ho(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function fo(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Fn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Qn,Ue="__reactProps$"+Qn,li="__reactContainer$"+Qn,Jr="__reactEvents$"+Qn,Ch="__reactListeners$"+Qn,eu="__reactHandles$"+Qn,nu="__reactResources$"+Qn,ui="__reactMarker$"+Qn;function Wr(e){delete e[Ee],delete e[Ue],delete e[Jr],delete e[Ch],delete e[eu]}function ci(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[li]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[Ee])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Ee]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ui]=!0}var mo=new Set,go={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function iu(e){return _e.call(_o,e)?!0:_e.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function ta(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function yn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=cs(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=cs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function an(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,g,Le(n)):s!=null?Eo(e,g,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function su(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Eo(e,n,s){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function fs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function on(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ao(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var So=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,gi=null;function pr(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&mr(o)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hs(e,!!s.multiple,n,!1)}}}var sa=!1;function gs(e,n,s){if(sa)return e(n,s);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(ms!==null||gi!==null)&&(tc(),ms&&(n=ms,e=gi,gi=ms=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ue]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Dn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{yr=!1}var pi=null,bo=null,_r=null;function wo(){if(_r)return _r;var e,n=bo,s=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Xn(){return!1}function Be(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Xn,this.isPropagationStopped=Xn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(ki),ps=S({},ki,{view:0,detail:0}),Ro=Be(ps),ys,ra,_i,aa=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(ys=e.screenX-_i.screenX,ra=e.screenY-_i.screenY):ra=ys=0,_i=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Io=Be(aa),Er=S({},aa,{dataTransfer:0}),lu=Be(Er),uu=S({},ps,{relatedTarget:0}),Tr=Be(uu),Co=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=Be(Co),oa=S({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=Be(oa),fu=S({},ki,{data:0}),vi=Be(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function _s(){return pu}var sn=S({},ps,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=Be(sn),_u=S({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Be(_u),u=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Be(u),v=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),U=S({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),tt=S({},ki,{newState:0,oldState:0}),bt=Be(tt),me=[9,13,27,32],Bt=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var On=Dn&&"TextEvent"in window&&!oe,Ei=Dn&&(!Bt||oe&&8<oe&&11>=oe),Zn=" ",$n=!1;function Ar(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function XT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:($n=!0,Zn);case"textInput":return e=n.data,e===Zn&&$n?null:e;default:return null}}function ZT(e,n){if(ua)return e==="compositionend"||!Bt&&Ar(e,n)?(e=wo(),_r=bo=pi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$T[e.type]:n==="textarea"}function dg(e,n,s,o){ms?gi?gi.push(o):gi=[o]:ms=o,n=oc(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var No=null,Do=null;function JT(e){Xy(e,0)}function vu(e){var n=pn(e);if(mr(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(Dn){var Nh;if(Dn){var Dh="oninput"in document;if(!Dh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Dh=typeof pg.oninput=="function"}Nh=Dh}else Nh=!1;gg=Nh&&(!document.documentMode||9<document.documentMode)}function yg(){No&&(No.detachEvent("onpropertychange",_g),Do=No=null)}function _g(e){if(e.propertyName==="value"&&vu(Do)){var n=[];dg(n,Do,e,Nn(e)),gs(JT,n)}}function WT(e,n,s){e==="focusin"?(yg(),No=n,Do=s,No.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Do)}function e1(e,n){if(e==="click")return vu(n)}function n1(e,n){if(e==="input"||e==="change")return vu(n)}function i1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:i1;function Oo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=mi(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var s1=Dn&&"documentMode"in document&&11>=document.documentMode,ca=null,xh=null,xo=null,Mh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||ca==null||ca!==mi(o)||(o=ca,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Oo(xo,o)||(xo=o,o=oc(xh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ca)))}function Sr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Vh={},bg={};Dn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function br(e){if(Vh[e])return Vh[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return Vh[e]=n[s];return e}var wg=br("animationend"),Rg=br("animationiteration"),Ig=br("animationstart"),r1=br("transitionrun"),a1=br("transitionstart"),o1=br("transitioncancel"),Cg=br("transitionend"),Ng=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Jn(e,n){Ng.set(e,n),fi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],fa=0,Uh=0;function Tu(){for(var e=fa,n=Uh=fa=0;n<e;){var s=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Dg(s,h,f)}}function Au(e,n,s,o){xn[fa++]=e,xn[fa++]=n,xn[fa++]=s,xn[fa++]=o,Uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,s,o){return Au(e,n,s,o),Su(e)}function wr(e,n){return Au(e,null,null,n),Su(e)}function Dg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<tl)throw tl=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function l1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,s,o){return new l1(e,n,s,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=vn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=dA(e,s,B.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=vn(31,s,n,h),e.elementType=R,e.lanes=f,e;case st:return Rr(s.children,h,f,n);case W:g=8,h|=24;break;case mt:return e=vn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Ft:return e=vn(13,s,n,h),e.elementType=Ft,e.lanes=f,e;case kt:return e=vn(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case Et:g=9;break t;case Gt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=vn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,s,o){return e=vn(7,e,o,n),e.lanes=s,e}function zh(e,n,s){return e=vn(6,e,null,n),e.lanes=s,e}function xg(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:lo(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var ma=[],ga=0,wu=null,Mo=0,Vn=[],kn=0,vs=null,Ti=1,Ai="";function Pi(e,n){ma[ga++]=Mo,ma[ga++]=wu,wu=e,Mo=n}function Vg(e,n,s){Vn[kn++]=Ti,Vn[kn++]=Ai,Vn[kn++]=vs,vs=e;var o=Ti;e=Ai;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ti=1<<32-de(n)+h|s<<h|o,Ai=f+e}else Ti=1<<f|s<<h|o,Ai=e}function qh(e){e.return!==null&&(Pi(e,1),Vg(e,1,0))}function Bh(e){for(;e===wu;)wu=ma[--ga],ma[ga]=null,Mo=ma[--ga],ma[ga]=null;for(;e===vs;)vs=Vn[--kn],Vn[kn]=null,Ai=Vn[--kn],Vn[kn]=null,Ti=Vn[--kn],Vn[kn]=null}function kg(e,n){Vn[kn++]=Ti,Vn[kn++]=Ai,Vn[kn++]=vs,Ti=n.id,Ai=n.overflow,vs=e}var He=null,se=null,Lt=!1,Es=null,Un=!1,Hh=Error(a(519));function Ts(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Mn(n,e)),Hh}function Ug(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ue]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)Nt(nl[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),fs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Ts(e,!0)}function Lg(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:He=He.return}}function pa(e){if(e!==He)return!1;if(!Lt)return Lg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ld(e.type,e.memoizedProps)),s=!s),s&&se&&Ts(e),Lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=l_(e)}else n===27?(n=se,ks(e.type)?(e=dd,dd=null,se=e):se=n):se=He?Pn(e.stateNode.nextSibling):null;return!0}function Ir(){se=He=null,Lt=!1}function Gh(){var e=Es;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Es=null),e}function Vo(e){Es===null?Es=[e]:Es.push(e)}var Fh=O(null),Cr=null,zi=null;function As(e,n,s){it(Fh,n._currentValue),n._currentValue=s}function ji(e){e._currentValue=Fh.current,Y(Fh)}function Qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Kh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Qh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Qh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Kh(n,e,s,o),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Pg(Cr,e)}function Iu(e,n){return Cr===null&&Nr(e),Pg(e,n)}function Pg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return s}var u1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},c1=r.unstable_scheduleCallback,h1=r.unstable_NormalPriority,Se={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new u1,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&c1(h1,function(){e.controller.abort()})}var Uo=null,Xh=0,_a=0,va=null;function f1(e,n){if(Uo===null){var s=Uo=[];Xh=0,_a=Wf(),va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Xh++,n.then(zg,zg),n}function zg(){if(--Xh===0&&Uo!==null){va!==null&&(va.status="fulfilled");var e=Uo;Uo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var jg=G.S;G.S=function(e,n){Sy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f1(e,n),jg!==null&&jg(e,n)};var Dr=O(null);function Zh(){var e=Dr.current;return e!==null?e:te.pooledCache}function Cu(e,n){n===null?it(Dr,Dr.current):it(Dr,n.pool)}function qg(){var e=Zh();return e===null?null:{parent:Se._currentValue,pool:e}}var Ea=Error(a(460)),$h=Error(a(474)),Nu=Error(a(542)),Du={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw xr=n,Ea}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xr=s,Ea):s}}var xr=null;function Gg(){if(xr===null)throw Error(a(459));var e=xr;return xr=null,e}function Fg(e){if(e===Ea||e===Nu)throw Error(a(483))}var Ta=null,Lo=0;function Ou(e){var n=Lo;return Lo+=1,Ta===null&&(Ta=[]),Hg(Ta,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(V,D){if(e){var L=V.deletions;L===null?(V.deletions=[D],V.flags|=16):L.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Li(V,D),V.index=0,V.sibling=null,V}function f(V,D,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<D?(V.flags|=67108866,D):L):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,L,K){return D===null||D.tag!==6?(D=zh(L,V.mode,K),D.return=V,D):(D=h(D,L),D.return=V,D)}function I(V,D,L,K){var ft=L.type;return ft===st?F(V,D,L.props.children,K,L.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Or(ft)===D.type)?(D=h(D,L.props),Po(D,L),D.return=V,D):(D=bu(L.type,L.key,L.props,null,V.mode,K),Po(D,L),D.return=V,D)}function P(V,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=jh(L,V.mode,K),D.return=V,D):(D=h(D,L.children||[]),D.return=V,D)}function F(V,D,L,K,ft){return D===null||D.tag!==7?(D=Rr(L,V.mode,K,ft),D.return=V,D):(D=h(D,L),D.return=V,D)}function X(V,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zh(""+D,V.mode,L),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return L=bu(D.type,D.key,D.props,null,V.mode,L),Po(L,D),L.return=V,L;case J:return D=jh(D,V.mode,L),D.return=V,D;case b:return D=Or(D),X(V,D,L)}if(fe(D)||k(D))return D=Rr(D,V.mode,L,null),D.return=V,D;if(typeof D.then=="function")return X(V,Ou(D),L);if(D.$$typeof===yt)return X(V,Iu(V,D),L);xu(V,D)}return null}function z(V,D,L,K){var ft=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:E(V,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ft?I(V,D,L,K):null;case J:return L.key===ft?P(V,D,L,K):null;case b:return L=Or(L),z(V,D,L,K)}if(fe(L)||k(L))return ft!==null?null:F(V,D,L,K,null);if(typeof L.then=="function")return z(V,D,Ou(L),K);if(L.$$typeof===yt)return z(V,D,Iu(V,L),K);xu(V,L)}return null}function H(V,D,L,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(L)||null,E(D,V,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return V=V.get(K.key===null?L:K.key)||null,I(D,V,K,ft);case J:return V=V.get(K.key===null?L:K.key)||null,P(D,V,K,ft);case b:return K=Or(K),H(V,D,L,K,ft)}if(fe(K)||k(K))return V=V.get(L)||null,F(D,V,K,ft,null);if(typeof K.then=="function")return H(V,D,L,Ou(K),ft);if(K.$$typeof===yt)return H(V,D,L,Iu(D,K),ft);xu(D,K)}return null}function lt(V,D,L,K){for(var ft=null,zt=null,ct=D,It=D=0,Ot=null;ct!==null&&It<L.length;It++){ct.index>It?(Ot=ct,ct=null):Ot=ct.sibling;var jt=z(V,ct,L[It],K);if(jt===null){ct===null&&(ct=Ot);break}e&&ct&&jt.alternate===null&&n(V,ct),D=f(jt,D,It),zt===null?ft=jt:zt.sibling=jt,zt=jt,ct=Ot}if(It===L.length)return s(V,ct),Lt&&Pi(V,It),ft;if(ct===null){for(;It<L.length;It++)ct=X(V,L[It],K),ct!==null&&(D=f(ct,D,It),zt===null?ft=ct:zt.sibling=ct,zt=ct);return Lt&&Pi(V,It),ft}for(ct=o(ct);It<L.length;It++)Ot=H(ct,V,It,L[It],K),Ot!==null&&(e&&Ot.alternate!==null&&ct.delete(Ot.key===null?It:Ot.key),D=f(Ot,D,It),zt===null?ft=Ot:zt.sibling=Ot,zt=Ot);return e&&ct.forEach(function(js){return n(V,js)}),Lt&&Pi(V,It),ft}function pt(V,D,L,K){if(L==null)throw Error(a(151));for(var ft=null,zt=null,ct=D,It=D=0,Ot=null,jt=L.next();ct!==null&&!jt.done;It++,jt=L.next()){ct.index>It?(Ot=ct,ct=null):Ot=ct.sibling;var js=z(V,ct,jt.value,K);if(js===null){ct===null&&(ct=Ot);break}e&&ct&&js.alternate===null&&n(V,ct),D=f(js,D,It),zt===null?ft=js:zt.sibling=js,zt=js,ct=Ot}if(jt.done)return s(V,ct),Lt&&Pi(V,It),ft;if(ct===null){for(;!jt.done;It++,jt=L.next())jt=X(V,jt.value,K),jt!==null&&(D=f(jt,D,It),zt===null?ft=jt:zt.sibling=jt,zt=jt);return Lt&&Pi(V,It),ft}for(ct=o(ct);!jt.done;It++,jt=L.next())jt=H(ct,V,It,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?It:jt.key),D=f(jt,D,It),zt===null?ft=jt:zt.sibling=jt,zt=jt);return e&&ct.forEach(function(bA){return n(V,bA)}),Lt&&Pi(V,It),ft}function Wt(V,D,L,K){if(typeof L=="object"&&L!==null&&L.type===st&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var ft=L.key;D!==null;){if(D.key===ft){if(ft=L.type,ft===st){if(D.tag===7){s(V,D.sibling),K=h(D,L.props.children),K.return=V,V=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Or(ft)===D.type){s(V,D.sibling),K=h(D,L.props),Po(K,L),K.return=V,V=K;break t}s(V,D);break}else n(V,D);D=D.sibling}L.type===st?(K=Rr(L.props.children,V.mode,K,L.key),K.return=V,V=K):(K=bu(L.type,L.key,L.props,null,V.mode,K),Po(K,L),K.return=V,V=K)}return g(V);case J:t:{for(ft=L.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(V,D.sibling),K=h(D,L.children||[]),K.return=V,V=K;break t}else{s(V,D);break}else n(V,D);D=D.sibling}K=jh(L,V.mode,K),K.return=V,V=K}return g(V);case b:return L=Or(L),Wt(V,D,L,K)}if(fe(L))return lt(V,D,L,K);if(k(L)){if(ft=k(L),typeof ft!="function")throw Error(a(150));return L=ft.call(L),pt(V,D,L,K)}if(typeof L.then=="function")return Wt(V,D,Ou(L),K);if(L.$$typeof===yt)return Wt(V,D,Iu(V,L),K);xu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(V,D.sibling),K=h(D,L),K.return=V,V=K):(s(V,D),K=zh(L,V.mode,K),K.return=V,V=K),g(V)):s(V,D)}return function(V,D,L,K){try{Lo=0;var ft=Wt(V,D,L,K);return Ta=null,ft}catch(ct){if(ct===Ea||ct===Nu)throw ct;var zt=vn(29,ct,null,V.mode);return zt.lanes=K,zt.return=V,zt}}}var Mr=Qg(!0),Kg=Qg(!1),Ss=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(e),Dg(e,null,s),n}return Au(e,o,n,s),Su(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}function tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function jo(){if(ef){var e=va;if(e!==null)throw e}}function qo(e,n,s,o){ef=!1;var h=e.updateQueue;Ss=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,F=P=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Dt&z)===z:(o&z)===z){z!==0&&z===_a&&(ef=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;z=n;var Wt=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){X=lt.call(Wt,X,z);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,z=typeof lt=="function"?lt.call(Wt,X,z):lt,z==null)break t;X=S({},X,z);break t;case 2:Ss=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,I=X):F=F.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=X),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ds|=g,e.lanes=g,e.memoizedState=X}}function Yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Yg(s[e],n)}var Aa=O(null),Mu=O(0);function Zg(e,n){e=Xi,it(Mu,e),it(Aa,n),Xi=e|n.baseLanes}function nf(){it(Mu,Xi),it(Aa,Aa.current)}function sf(){Xi=Mu.current,Y(Aa),Y(Mu)}var En=O(null),Ln=null;function Rs(e){var n=e.alternate;it(ge,ge.current&1),it(En,e),Ln===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Ln=e)}function rf(e){it(ge,ge.current),it(En,e),Ln===null&&(Ln=e)}function $g(e){e.tag===22?(it(ge,ge.current),it(En,e),Ln===null&&(Ln=e)):Is()}function Is(){it(ge,ge.current),it(En,En.current)}function Tn(e){Y(En),Ln===e&&(Ln=null),Y(ge)}var ge=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,wt=null,$t=null,be=null,ku=!1,Sa=!1,Vr=!1,Uu=0,Bo=0,ba=null,m1=0;function ce(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!_n(e[s],n[s]))return!1;return!0}function of(e,n,s,o,h,f){return qi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Vp:Af,Vr=!1,f=s(o,h),Vr=!1,Sa&&(f=Wg(n,s,o,h)),Jg(e),f}function Jg(e){G.H=Fo;var n=$t!==null&&$t.next!==null;if(qi=0,be=$t=wt=null,ku=!1,Bo=0,ba=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Ru(e)&&(we=!0))}function Wg(e,n,s,o){wt=e;var h=0;do{if(Sa&&(ba=null),Bo=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,be=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=kp,f=n(s,o)}while(Sa);return f}function g1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(wt.flags|=1024),n}function lf(){var e=Uu!==0;return Uu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}qi=0,be=$t=wt=null,Sa=!1,Bo=Uu=0,ba=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?wt.memoizedState=be=e:be=be.next=e,be}function pe(){if($t===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=be===null?wt.memoizedState:be.next;if(n!==null)be=n,$t=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?wt.memoizedState=be=e:be=be.next=e}return be}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=Bo;return Bo+=1,ba===null&&(ba=[]),e=Hg(ba,e,n),n=wt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Vp:Af),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===yt)return Ge(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Bi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=pe();return ff(n,$t,e)}function ff(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Dt&X)===X:(qi&X)===X){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===_a&&(F=!0);else if((qi&z)===z){P=P.next,z===_a&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,wt.lanes|=z,Ds|=z;X=P.action,Vr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,wt.lanes|=X,Ds|=X;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!_n(f,e.memoizedState)&&(we=!0,F&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(e,n,s){var o=wt,h=pe(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!_n(($t||h).memoizedState,s);if(g&&(h.memoizedState=s,we=!0),h=h.queue,pf(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},np.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(qi&127)!==0||ep(o,n,s)}return s}function ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=Lu(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function np(e,n,s,o){n.value=s,n.getSnapshot=o,sp(n)&&rp(e)}function ip(e,n,s){return s(function(){sp(n)&&rp(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!_n(e,s)}catch{return!0}}function rp(e){var n=wr(e,2);n!==null&&fn(n,e,2)}function mf(e){var n=rn();if(typeof e=="function"){var s=e;if(e=s(),Vr){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,ff(e,$t,typeof o=="function"?o:Bi)}function p1(e,n,s,o,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),I=G.S;I!==null&&I(g,E),lp(e,n,E)}catch(P){gf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),lp(e,n,f)}catch(P){gf(e,n,P)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){up(e,n,o)},function(o){return gf(e,n,o)}):up(e,n,s)}function up(e,n,s){n.status="fulfilled",n.value=s,cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function gf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(Lt){var s=te.formState;if(s!==null){t:{var o=wt;if(Lt){if(se){e:{for(var h=se,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Pn(h.nextSibling),o=h.data==="F!";break t}}Ts(o)}o=!1}o&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},s.queue=o,s=Op.bind(null,wt,o),o.dispatch=s,o=mf(!1),f=Tf.bind(null,wt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=p1.bind(null,wt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function dp(e){var n=pe();return mp(n,$t,e)}function mp(e,n,s){if(n=ff(e,n,hp)[0],e=zu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===Ea?Nu:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,wa(9,{destroy:void 0},y1.bind(null,h,s),null)),[o,f,e]}function y1(e,n){e.action=n}function gp(e){var n=pe(),s=$t;if(s!==null)return mp(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function wa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Lu(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pp(){return pe().memoizedState}function ju(e,n,s,o){var h=rn();wt.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&af(o,$t.memoizedState.deps)?h.memoizedState=wa(n,f,s,o):(wt.flags|=e,h.memoizedState=wa(1|n,f,s,o))}function yp(e,n){ju(8390656,8,e,n)}function pf(e,n){qu(2048,8,e,n)}function _1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Lu(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _p(e){var n=pe().memoizedState;return _1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return qu(4,2,e,n)}function Ep(e,n){return qu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,Tp.bind(null,n,e),s)}function yf(){}function Sp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function bp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Vr){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o}function _f(e,n,s){return s===void 0||(qi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),wt.lanes|=e,Ds|=e,s)}function wp(e,n,s,o){return _n(s,n)?s:Aa.current!==null?(e=_f(e,s,o),_n(e,n)||(we=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Dt&261930)===0?(we=!0,e.memoizedState=s):(e=wy(),wt.lanes|=e,Ds|=e,n)}function Rp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Tf(e,!1,n,s);try{var I=h(),P=G.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=d1(I,o);Go(e,n,F,bn(e))}else Go(e,n,o,bn(e))}catch(X){Go(e,n,{then:function(){},status:"rejected",reason:X},bn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function v1(){}function vf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Rp(e,h,n,ht,s===null?v1:function(){return Cp(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},bn())}function Ef(){return Ge(ol)}function Np(){return pe().memoizedState}function Dp(){return pe().memoizedState}function E1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=bs(s);var o=ws(n,e,s);o!==null&&(fn(o,n,s),zo(o,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function T1(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?xp(n,s):(s=Lh(e,n,s,o),s!==null&&(fn(s,e,o),Mp(s,n,o)))}function Op(e,n,s){var o=bn();Go(e,n,s,o)}function Go(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))xp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return Au(e,n,h,0),te===null&&Tu(),!1}catch{}if(s=Lh(e,n,h,o),s!==null)return fn(s,e,o),Mp(s,n,o),!0}return!1}function Tf(e,n,s,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Lh(e,s,o,2),n!==null&&fn(n,e,2)}function Bu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function xp(e,n){Sa=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ho(e,s)}}var Fo={readContext:Ge,use:Pu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Fo.useEffectEvent=ce;var Vp={readContext:Ge,use:Pu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:yp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,Tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=rn();n=n===void 0?null:n;var o=e();if(Vr){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=rn();if(s!==void 0){var h=s(n);if(Vr){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=T1.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=Op.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=rn();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=Rp.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=wt,h=rn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Dt&127)!==0||ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},np.bind(null,o,f,s,n),null),s},useId:function(){var e=rn(),n=te.identifierPrefix;if(Lt){var s=Ai,o=Ti;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=m1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return rn().memoizedState=E1.bind(null,wt)},useEffectEvent:function(e){var n=rn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Ge,use:Pu,useCallback:Sp,useContext:Ge,useEffect:pf,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:zu,useRef:pp,useState:function(){return zu(Bi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=pe();return wp(s,$t.memoizedState,e,n)},useTransition:function(){var e=zu(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Ef,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=pe();return ap(s,$t,e,n)},useMemoCache:hf,useCacheRefresh:Dp};Af.useEffectEvent=_p;var kp={readContext:Ge,use:Pu,useCallback:Sp,useContext:Ge,useEffect:pf,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:df,useRef:pp,useState:function(){return df(Bi)},useDebugValue:yf,useDeferredValue:function(e,n){var s=pe();return $t===null?_f(s,e,n):wp(s,$t.memoizedState,e,n)},useTransition:function(){var e=df(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:Ef,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=pe();return $t!==null?ap(s,$t,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Dp};kp.useEffectEvent=_p;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),h=bs(o);h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,o),n!==null&&(fn(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),h=bs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,o),n!==null&&(fn(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=bs(s);o.tag=2,n!=null&&(o.callback=n),n=ws(e,o,s),n!==null&&(fn(n,e,s),zo(n,e,s))}};function Up(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(h,f):!0}function Lp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Pp(e){Eu(e)}function zp(e){console.error(e)}function jp(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function Bp(e){return e=bs(e),e.tag=3,e}function Hp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function A1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?ec():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),ec(),!1}if(Lt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),Vo(Mn(e,s)))):(o!==Hh&&(n=Error(a(423),{cause:o}),Vo(Mn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,s),h=wf(e.stateNode,o,h),tf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Mn(f,s),Wo===null?Wo=[f]:Wo.push(f),he!==4&&(he=2),n===null)return!0;o=Mn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,o,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bp(h),Hp(h,e,s,o),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),we=!1;function Fe(e,n,s,o){n.child=e===null?Kg(n,null,s,o):Mr(n,e.child,s,o)}function Gp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Nr(n),o=of(e,n,s,g,f,h),E=lf(),e!==null&&!we?(uf(e,n,h),Hi(e,n,h)):(Lt&&E&&qh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function Fp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=bu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(g,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Vf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return If(e,n,s,o,h)}function Kp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Yp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Zg(n,f):nf(),$g(n);else return o=n.lanes=536870912,Yp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Cu(n,f.cachePool),Zg(n,f),Is(),n.memoizedState=null):(e!==null&&Cu(n,null),nf(),Is());return Fe(e,n,h,s),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),nf(),$g(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Gu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,s){return Mr(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function S1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Gu(n,o),n.lanes=536870912,Qo(null,e);if(rf(n),(e=se)?(e=o_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=xg(e),s.return=n,n.child=s,He=n,se=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return Gu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ya(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=te,o!==null&&(g=fo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),fn(o,e,g),Rf;ec(),n=Xp(e,n,s)}else e=f.treeContext,se=Pn(g.nextSibling),He=n,Lt=!0,Es=null,Un=!1,e!==null&&kg(n,e),n=Gu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return Nr(n),s=of(e,n,s,o,void 0,h),o=lf(),e!==null&&!we?(uf(e,n,h),Hi(e,n,h)):(Lt&&o&&qh(n),n.flags|=1,Fe(e,n,s,h),n.child)}function Zp(e,n,s,o,h,f){return Nr(n),n.updateQueue=null,s=Wg(n,o,s,h),Jg(e),o=lf(),e!==null&&!we?(uf(e,n,f),Hi(e,n,f)):(Lt&&o&&qh(n),n.flags|=1,Fe(e,n,s,f),n.child)}function $p(e,n,s,o,h){if(Nr(n),n.stateNode===null){var f=da,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),qo(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=kr(s,E);f.props=I;var P=f.context,F=s.contextType;g=da,typeof F=="object"&&F!==null&&(g=Ge(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Lp(n,f,o,g),Ss=!1;var z=n.memoizedState;f.state=z,qo(n,o,f,h),jo(),P=n.memoizedState,E||z!==P||Ss?(typeof X=="function"&&(Sf(n,s,X,o),P=n.memoizedState),(I=Ss||Up(n,s,I,o,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,F=kr(s,g),f.props=F,X=n.pendingProps,z=f.context,P=s.contextType,I=da,typeof P=="object"&&P!==null&&(I=Ge(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==I)&&Lp(n,f,o,I),Ss=!1,z=n.memoizedState,f.state=z,qo(n,o,f,h),jo();var H=n.memoizedState;g!==X||z!==H||Ss||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),H=n.memoizedState),(F=Ss||Up(n,s,F,o,z,H,I)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function Jp(e,n,s,o){return Ir(),n.flags|=256,Fe(e,n,s,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:qg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Sn),e}function Wp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Rs(n):Is(),(e=se)?(e=o_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=xg(e),s.return=n,n.child=s,He=n,se=null)):e=null,e===null)throw Ts(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Is(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=Rr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,Qo(null,o)):(Rs(n),Of(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=xf(e,n,s)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=Rr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,e.child,null,s),o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,n=Qo(null,o));else if(Rs(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=xf(e,n,s)}else if(we||ya(e,n,s,!1),g=(s&e.childLanes)!==0,we||g){if(g=te,g!==null&&(o=fo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,wr(e,o),fn(g,e,o),Rf;hd(E)||ec(),n=xf(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,se=Pn(E.nextSibling),He=n,Lt=!0,Es=null,Un=!1,e!==null&&kg(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Is(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Li(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Li(P,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=Cf,Qo(e.child,o)):(Rs(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function xf(e,n,s){return Mr(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Qh(e.return,n,s)}function Mf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(ge,g),Fe(e,n,o,s),o=Lt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ds|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function b1(e,n,s){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),As(n,Se,e.memoizedState.cache),Ir();break;case 27:case 5:De(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wp(e,n,s):(Rs(n),e=Hi(e,n,s),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ya(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ge,ge.current),o)break;return null;case 22:return n.lanes=0,Kp(e,n,s,n.pendingProps);case 24:As(n,Se,e.memoizedState.cache)}return Hi(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return we=!1,b1(e,n,s);we=(e.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Vg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=kr(e,o),n.tag=1,n=$p(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Gt){n.tag=11,n=Gp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Fp(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=kr(o,n.pendingProps),$p(e,n,o,h,s);case 3:t:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,As(n,Se,o),o!==f.cache&&Kh(n,[Se],s,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,o,s);break t}else if(o!==h){h=Mn(Error(a(424)),n),Vo(h),n=Jp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Pn(e.firstChild),He=n,Lt=!0,Es=null,Un=!0,s=Kg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),o===h){n=Hi(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=lc(ot.current).createElement(s),o[Ee]=n,o[Ue]=e,Qe(o,s,e),Te(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return De(n),e===null&&Lt&&(o=n.stateNode=c_(n.type,n.pendingProps,ot.current),He=n,Un=!0,h=se,ks(n.type)?(dd=h,se=Pn(o.firstChild)):se=h),Fe(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=se)&&(o=tA(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,He=n,se=Pn(o.firstChild),Un=!1,h=!0):h=!1),h||Ts(n)),De(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,g1,null,null,s),ol._currentValue=h),Fu(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=se)&&(s=eA(s,n.pendingProps,Un),s!==null?(n.stateNode=s,He=n,se=null,e=!0):e=!1),e||Ts(n)),null;case 13:return Wp(e,n,s);case 4:return gt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Gp(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=Ge(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,s);case 15:return Qp(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return S1(e,n,s);case 22:return Kp(e,n,s,n.pendingProps);case 24:return Nr(n),o=Ge(Se),e===null?(h=Zh(),h===null&&(h=te,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Jh(n),As(n,Se,h)):((e.lanes&s)!==0&&(Wh(e,n),qo(n,null,null,s),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,Se,o)):(o=f.cache,As(n,Se,o),o!==h.cache&&Kh(n,[Se],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw xr=Du,$h}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(Ny())e.flags|=8192;else throw xr=Du,$h}function Ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wl():536870912,e.lanes|=n,Na|=n)}function Ko(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function w1(e,n,s){var o=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(Se),Rt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(re(n),iy(n,f)):(re(n),kf(n,h,null,o,s))):f?f!==e.memoizedState?(Gi(n),re(n),iy(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),re(n),kf(n,h,e,o,s)),null;case 27:if(Rn(n),s=ot.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=B.current,pa(n)?Ug(n):(e=c_(h,o,s),n.stateNode=e,Gi(n))}return re(n),null;case 5:if(Rn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=B.current,pa(n))Ug(n);else{var g=lc(ot.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ue]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return re(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ot.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||Ts(n,!0)}else e=lc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ku(n,n.updateQueue),re(n),null);case 4:return Rt(),e===null&&id(n.stateNode.containerInfo),re(n),null;case 10:return ji(n.type),re(n),null;case 19:if(Y(ge),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Ku(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return it(ge,ge.current&1|2),Lt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>Ju&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ku(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return re(n),null}else 2*nn()-o.renderingStartTime>Ju&&s!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,s=ge.current,it(ge,h?s&1|2:s&1),Lt&&Pi(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return Tn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Ku(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Dr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ji(Se),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function R1(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Se),Rt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Rn(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(ge),null;case 4:return Rt(),null;case 10:return ji(n.type),null;case 22:case 23:return Tn(n),sf(),e!==null&&Y(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Se),null;case 25:return null;default:return null}}function sy(e,n){switch(Bh(n),n.tag){case 3:ji(Se),Rt();break;case 26:case 27:case 5:Rn(n);break;case 4:Rt();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:Y(ge);break;case 10:ji(n.type);break;case 22:case 23:Tn(n),sf(),e!==null&&Y(Dr);break;case 24:ji(Se)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Cs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(F){Xt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function ry(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xg(n,s)}catch(o){Xt(e,e.return,o)}}}function ay(e,n,s){s.props=kr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Si(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Uf(e,n,s){try{var o=e.stateNode;Y1(o,e.type,s,n),o[Ue]=n}catch(h){Xt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&ks(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Yu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,s),n[Ee]=e,n[Ue]=s}catch(f){Xt(e,e.return,f)}}var Fi=!1,Re=!1,zf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function I1(e,n){if(e=e.containerInfo,ad=gc,e=Ag(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,P=0,F=0,X=e,z=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++F===o&&(I=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(od={focusedElem:e,selectionRange:s},gc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=kr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function hy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&Yo(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&ry(s),o&512&&Xo(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xg(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&uy(s);case 26:case 5:Ki(e,s),n===null&&o&4&&oy(s),o&512&&Xo(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&my(e,s);break;case 13:Ki(e,s),o&4&&gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=U1.bind(null,s),nA(e,s))));break;case 22:if(o=s.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var f=Re;Fi=o,(Re=n)&&!f?Yi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Fi=h,Re=f}break;case 30:break;default:Ki(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function Qi(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:Re||Si(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||Si(s,n);var o=le,h=ln;ks(s.type)&&(le=s.stateNode,ln=!1),Qi(e,n,s),sl(s.stateNode),le=o,ln=h;break;case 5:Re||Si(s,n);case 6:if(o=le,h=ln,le=null,Qi(e,n,s),le=o,ln=h,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:le!==null&&(ln?(e=le,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):r_(le,s.stateNode));break;case 4:o=le,h=ln,le=s.stateNode.containerInfo,ln=!0,Qi(e,n,s),le=o,ln=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Re||Cs(4,s,n),Qi(e,n,s);break;case 1:Re||(Si(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ay(s,n,o)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Qi(e,n,s),Re=o;break;default:Qi(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Xt(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Xt(n,n.return,s)}}function C1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=C1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=L1.bind(null,e,o);o.then(h,h)}})}function un(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){le=E.stateNode,ln=!1;break t}break;case 5:le=E.stateNode,ln=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(le===null)throw Error(a(160));dy(f,g,h),le=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Wn=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Cs(3,e,e.return),Yo(3,e),Cs(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Re||s===null||Si(s,s.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Wn;if(un(n,e),cn(e),o&512&&(Re||s===null||Si(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,s.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Re||s===null||Si(s,s.return)),s!==null&&o&4&&Uf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Re||s===null||Si(s,s.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(hc=null,h=Wn,Wn=uc(n.containerInfo),un(n,e),Wn=h,cn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}zf&&(zf=!1,yy(e));break;case 4:o=Wn,Wn=uc(e.stateNode.containerInfo),un(n,e),cn(e),Wn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Fi,F=Re;if(Fi=P||h,Re=F||I,un(n,e),Re=F,Fi=P,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Fi||Re||Ur(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Xt(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Xt(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?a_(H,!0):a_(I.stateNode,!1)}catch(lt){Xt(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xu(e,s))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ly(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Yu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(on(g,""),s.flags&=-33);var E=Lf(e);Yu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Lf(e);Pf(e,P,I);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),Ur(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),Ur(n);break;case 27:sl(n.stateNode);case 26:case 5:Si(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function Yi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,s),Yo(4,f);break;case 1:if(Yi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Yg(I[h],E)}catch(P){Xt(o,o.return,P)}}s&&g&64&&ry(f),Xo(f,f.return);break;case 27:uy(f);case 26:case 5:Yi(h,f,s),s&&o===null&&g&4&&oy(f),Xo(f,f.return);break;case 12:Yi(h,f,s);break;case 31:Yi(h,f,s),s&&g&4&&my(h,f);break;case 13:Yi(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,s),Xo(f,f.return);break;case 30:break;default:Yi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ko(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function ti(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,o),n=n.sibling}function _y(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,o),h&2048&&Yo(9,n);break;case 1:ti(e,n,s,o);break;case 3:ti(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){ti(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else ti(e,n,s,o);break;case 31:ti(e,n,s,o);break;case 13:ti(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,s,o):Zo(e,n):f._visibility&2?ti(e,n,s,o):(f._visibility|=2,Ra(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:ti(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:ti(e,n,s,o)}}function Ra(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,I,h),Yo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ra(f,g,E,I,h):Zo(f,g):(F._visibility|=2,Ra(f,g,E,I,h)),h&&P&2048&&jf(g.alternate,g);break;case 24:Ra(f,g,E,I,h),h&&P&2048&&qf(g.alternate,g);break;default:Ra(f,g,E,I,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(s,o),h&2048&&jf(o.alternate,o);break;case 24:Zo(s,o),h&2048&&qf(o.alternate,o);break;default:Zo(s,o)}n=n.sibling}}var $o=8192;function Ia(e,n,s){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&$o&&e.memoizedState!==null&&mA(s,Wn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=Wn;Wn=uc(e.stateNode.containerInfo),Ia(e,n,s),Wn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Ia(e,n,s),$o=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Ay(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):Jo(e);break;default:Jo(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Ay(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ay(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(fy(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var N1={getCacheForType:function(e){var n=Ge(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ge(Se).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Ct=null,Dt=0,Yt=0,An=null,Ns=!1,Ca=!1,Bf=!1,Xi=0,he=0,Ds=0,Lr=0,Hf=0,Sn=0,Na=0,Wo=null,hn=null,Gf=!1,$u=0,Sy=0,Ju=1/0,Wu=null,Os=null,xe=0,xs=null,Da=null,Zi=0,Ff=0,Qf=null,by=null,tl=0,Kf=null;function bn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?Wf():tu()}function wy(){if(Sn===0)if((Dt&536870912)===0||Lt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function fn(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Ms(e,Dt,Sn,!1)),hr(e,s),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Lr|=s),he===4&&Ms(e,Dt,Sn,!1)),bi(e))}function Ry(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Gn(e,n),h=o?M1(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Ms(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!O1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Wo;var I=E.current.memoizedState.isDehydrated;if(I&&(Oa(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(Bf&&!I){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Ms(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,Sn,!Ns);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-nn(),10<h)){if(Ms(o,n,Sn,!Ns),ai(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=i_(Iy.bind(null,o,s,hn,Wu,Gf,n,Sn,Lr,Na,Ns,f,"Throttled",-0,0),h);break t}Iy(o,s,hn,Wu,Gf,n,Sn,Lr,Na,Ns,f,null,-0,0)}}break}while(!0);bi(e)}function Iy(e,n,s,o,h,f,g,E,I,P,F,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},vy(n,f,X);var lt=(f&62914560)===f?$u-nn():(f&4194048)===f?Sy-nn():0;if(lt=gA(X,lt),lt!==null){Zi=f,e.cancelPendingCommit=lt(ky.bind(null,e,n,f,s,o,h,g,E,I,F,X,null,z,H)),Ms(e,f,g,!P);return}}ky(e,n,f,s,o,h,g,E,I)}function O1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,s,o){n&=~Hf,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function tc(){return(Ht&6)===0?(el(0),!1):!0}function Yf(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,zi=Cr=null,cf(e),Ta=null,Lo=0,e=Ct;for(;e!==null;)sy(e.alternate,e),e=e.return;Ct=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zi=0,Yf(),te=e,Ct=s=Li(e.current,null),Dt=n,Yt=0,An=null,Ns=!1,Ca=Gn(e,n),Bf=!1,Na=Sn=Hf=Lr=Ds=he=0,hn=Wo=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,Tu(),s}function Cy(e,n){wt=null,G.H=Fo,n===Ea||n===Nu?(n=Gg(),Yt=3):n===$h?(n=Gg(),Yt=4):Yt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ct===null&&(he=1,Hu(e,Mn(n,e.current)))}function Ny(){var e=En.current;return e===null?!0:(Dt&4194048)===Dt?Ln===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Ln:!1}function Dy(){var e=G.H;return G.H=Fo,e===null?Fo:e}function Oy(){var e=G.A;return G.A=N1,e}function ec(){he=4,Ns||(Dt&4194048)!==Dt&&En.current!==null||(Ca=!0),(Ds&134217727)===0&&(Lr&134217727)===0||te===null||Ms(te,Dt,Sn,!1)}function Xf(e,n,s){var o=Ht;Ht|=2;var h=Dy(),f=Oy();(te!==e||Dt!==n)&&(Wu=null,Oa(e,n)),n=!1;var g=he;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,I=An;switch(Yt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var P=Yt;if(Yt=0,An=null,xa(e,E,I,P),s&&Ca){g=0;break t}break;default:P=Yt,Yt=0,An=null,xa(e,E,I,P)}}x1(),g=he;break}catch(F){Cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,zi=Cr=null,Ht=o,G.H=h,G.A=f,Ct===null&&(te=null,Dt=0,Tu()),g}function x1(){for(;Ct!==null;)xy(Ct)}function M1(e,n){var s=Ht;Ht|=2;var o=Dy(),h=Oy();te!==e||Dt!==n?(Wu=null,Ju=nn()+500,Oa(e,n)):Ca=Gn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var f=An;e:switch(Yt){case 1:Yt=0,An=null,xa(e,n,f,1);break;case 2:case 9:if(Bg(f)){Yt=0,An=null,My(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),bi(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Bg(f)?(Yt=0,An=null,My(n)):(Yt=0,An=null,xa(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?__(g):E.stateNode.complete){Yt=0,An=null;var I=E.sibling;if(I!==null)Ct=I;else{var P=E.return;P!==null?(Ct=P,nc(P)):Ct=null}break e}}Yt=0,An=null,xa(e,n,f,5);break;case 6:Yt=0,An=null,xa(e,n,f,6);break;case 8:Yf(),he=6;break t;default:throw Error(a(462))}}V1();break}catch(F){Cy(e,F)}while(!0);return zi=Cr=null,G.H=o,G.A=h,Ht=s,Ct!==null?0:(te=null,Dt=0,Tu(),he)}function V1(){for(;Ct!==null&&!bh();)xy(Ct)}function xy(e){var n=ny(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?nc(e):Ct=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:cf(n);default:sy(s,n),n=Ct=Og(n,Xi),n=ny(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?nc(e):Ct=n}function xa(e,n,s,o){zi=Cr=null,cf(n),Ta=null,Lo=0;var h=n.return;try{if(A1(e,h,n,s,Dt)){he=1,Hu(e,Mn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,Hu(e,Mn(s,e.current)),Ct=null;return}n.flags&32768?(Lt||o===1?e=!0:Ca||(Dt&536870912)!==0?e=!1:(Ns=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,Ns);return}e=n.return;var s=w1(n.alternate,n,Xi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function Vy(e,n){do{var s=R1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);he=6,Ct=null}function ky(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do ic();while(xe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ih(e,s,f,g,E,I),e===te&&(Ct=te=null,Dt=0),Da=n,xs=e,Zi=s,Ff=f,Qf=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P1(us,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=Ht,Ht|=4;try{I1(e,n,s)}finally{Ht=g,nt.p=h,G.T=o}}xe=1,Uy(),Ly(),Py()}}function Uy(){if(xe===1){xe=0;var e=xs,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{py(n,e);var f=od,g=Ag(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(I!==null&&Oh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),lt=E.textContent.length,pt=Math.min(I.start,lt),Wt=I.end===void 0?pt:Math.min(I.end,lt);!H.extend&&pt>Wt&&(g=Wt,Wt=pt,pt=g);var V=Eg(E,pt),D=Eg(E,Wt);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=X.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),pt>Wt?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}gc=!!ad,od=ad=null}finally{Ht=h,nt.p=o,G.T=s}}e.current=n,xe=2}}function Ly(){if(xe===2){xe=0;var e=xs,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{hy(e,n.alternate,n)}finally{Ht=h,nt.p=o,G.T=s}}xe=3}}function Py(){if(xe===4||xe===3){xe=0,Kl();var e=xs,n=Da,s=Zi,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Da=xs=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),Mi(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Zi&3)!==0&&ic(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Kf?tl++:(tl=0,Kf=e):tl=0,el(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function ic(){return Uy(),Ly(),Py(),jy()}function jy(){if(xe!==5)return!1;var e=xs,n=Ff;Ff=0;var s=Mi(Zi),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=Qf,Qf=null;var f=xs,g=Zi;if(xe=0,Da=xs=null,Zi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Ty(f.current),_y(f,f.current,g,s),Ht=E,el(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{nt.p=h,G.T=o,zy(e,n)}}function qy(e,n,s){n=Mn(s,n),n=wf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(hr(e,2),bi(e))}function Xt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Os===null||!Os.has(o))){e=Mn(s,e),s=Bp(2),o=ws(n,s,2),o!==null&&(Hp(s,o,n,e),hr(o,2),bi(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Bf=!0,h.add(s),e=k1.bind(null,e,n,s),n.then(e,e))}function k1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Dt&s)===s&&(he===4||he===3&&(Dt&62914560)===Dt&&300>nn()-$u?(Ht&2)===0&&Oa(e,0):Hf|=s,Na===Dt&&(Na=0)),bi(e)}function By(e,n){n===0&&(n=Wl()),e=wr(e,n),e!==null&&(hr(e,n),bi(e))}function U1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function L1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),By(e,s)}function P1(e,n){return Oe(e,n)}var sc=null,Ma=null,$f=!1,rc=!1,Jf=!1,Vs=0;function bi(e){e!==Ma&&e.next===null&&(Ma===null?sc=Ma=e:Ma=Ma.next=e),rc=!0,$f||($f=!0,j1())}function el(e,n){if(!Jf&&rc){Jf=!0;do for(var s=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(o,f))}else f=Dt,f=ai(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(s=!0,Qy(o,f));o=o.next}while(s);Jf=!1}}function z1(){Hy()}function Hy(){rc=$f=!1;var e=0;Vs!==0&&Z1()&&(e=Vs);for(var n=nn(),s=null,o=sc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?sc=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}xe!==0&&xe!==5||el(e),Vs!==0&&(Vs=0)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Rh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Dt,s=ai(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ls(o),Mi(s)){case 2:case 8:s=co;break;case 32:s=us;break;case 268435456:s=Yl;break;default:s=us}return o=Fy.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ls(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var o=Dt;return o=ai(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Gy(e,nn()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(ic())return null;Ry(e,n,!0)}function j1(){J1(function(){(Ht&6)!==0?Oe(uo,z1):Hy()})}function Wf(){if(Vs===0){var e=_a;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Vs=e}return Vs}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Yy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function q1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[Ue]||null).action),g=o.submitter;g&&(n=(n=g[Ue]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var I=g?Yy(h,g):new FormData(h);vf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Yy(h,g):new FormData(h),vf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],B1=ed.toLowerCase(),H1=ed[0].toUpperCase()+ed.slice(1);Jn(B1,"on"+H1)}Jn(wg,"onAnimationEnd"),Jn(Rg,"onAnimationIteration"),Jn(Ig,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(r1,"onTransitionRun"),Jn(a1,"onTransitionStart"),Jn(o1,"onTransitionCancel"),Jn(Cg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Eu(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Eu(F)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Zy(n,e,2,!1),s.add(o))}function nd(e,n,s){var o=0;n&&(o|=4),Zy(s,e,o,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ac]){e[ac]=!0,mo.forEach(function(s){s!=="selectionchange"&&(G1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,nd("selectionchange",!1,n))}}function Zy(e,n,s,o){switch(w_(n)){case 2:var h=_A;break;case 8:h=vA;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ci(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}gs(function(){var P=f,F=Nn(s),X=[];t:{var z=Ng.get(e);if(z!==void 0){var H=yi,lt=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":H=yu;break;case"focusin":lt="focus",H=Tr;break;case"focusout":lt="blur",H=Tr;break;case"beforeblur":case"afterblur":H=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case wg:case Rg:case Ig:H=cu;break;case Cg:H=T;break;case"scroll":case"scrollend":H=Ro;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=bt}var pt=(n&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),V=pt?z!==null?z+"Capture":null:z;pt=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||V===null||(K=Yn(D,V),K!=null&&pt.push(il(D,K,L))),Wt)break;D=D.return}0<pt.length&&(z=new H(z,lt,null,s,F),X.push({event:z,listeners:pt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==So&&(lt=s.relatedTarget||s.fromElement)&&(ci(lt)||lt[li]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=P,lt=lt?ci(lt):null,lt!==null&&(Wt=c(lt),pt=lt.tag,lt!==Wt||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=P),H!==lt)){if(pt=Io,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ui,K="onPointerLeave",V="onPointerEnter",D="pointer"),Wt=H==null?z:pn(H),L=lt==null?z:pn(lt),z=new pt(K,D+"leave",H,s,F),z.target=Wt,z.relatedTarget=L,K=null,ci(F)===P&&(pt=new pt(V,D+"enter",lt,s,F),pt.target=L,pt.relatedTarget=Wt,K=pt),Wt=K,H&&lt)e:{for(pt=F1,V=H,D=lt,L=0,K=V;K;K=pt(K))L++;K=0;for(var ft=D;ft;ft=pt(ft))K++;for(;0<L-K;)V=pt(V),L--;for(;0<K-L;)D=pt(D),K--;for(;L--;){if(V===D||D!==null&&V===D.alternate){pt=V;break e}V=pt(V),D=pt(D)}pt=null}else pt=null;H!==null&&$y(X,z,H,pt,!1),lt!==null&&Wt!==null&&$y(X,Wt,lt,pt,!0)}}t:{if(z=P?pn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var zt=mg;else if(fg(z))if(gg)zt=n1;else{zt=t1;var ct=WT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&na(P.elementType)&&(zt=mg):zt=e1;if(zt&&(zt=zt(e,P))){dg(X,zt,s,F);break t}ct&&ct(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(ct=P?pn(P):window,e){case"focusin":(fg(ct)||ct.contentEditable==="true")&&(ca=ct,xh=P,xo=null);break;case"focusout":xo=xh=ca=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Sg(X,s,F);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":Sg(X,s,F)}var It;if(Bt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ua?Ar(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ei&&s.locale!=="ko"&&(ua||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ua&&(It=wo()):(pi=F,bo="value"in pi?pi.value:pi.textContent,ua=!0)),ct=oc(P,Ot),0<ct.length&&(Ot=new vi(Ot,e,null,s,F),X.push({event:Ot,listeners:ct}),It?Ot.data=It:(It=la(s),It!==null&&(Ot.data=It)))),(It=On?XT(e,s):ZT(e,s))&&(Ot=oc(P,"onBeforeInput"),0<Ot.length&&(ct=new vi("onBeforeInput","beforeinput",null,s,F),X.push({event:ct,listeners:Ot}),ct.data=It)),q1(X,e,P,s,F)}Xy(X,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&o.unshift(il(e,h,f)),h=Yn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function F1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Yn(s,f),P!=null&&g.unshift(il(s,P,I))):h||(P=Yn(s,f),P!=null&&g.push(il(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var Q1=/\r\n?/g,K1=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(K1,"")}function Wy(e,n){return n=Jy(n),Jy(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,s,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,ta(e,s,o))}}function rd(e,n,s,o,h,f){switch(s){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ta(e,s,o)}}}function Qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Jt(e,n,o,F,s,null)}}su(e,f,E,I,P,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?hs(e,!!o,n,!1):s!=null&&hs(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,s,null)}fs(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Nt(nl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,s,null)}return;default:if(na(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&rd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function Y1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||Jt(e,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=s[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&Jt(e,n,z,H,o,X)}}ea(e,g,E,I,P,F,f,h);return;case"select":H=g=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,s=g,o=H,z!=null?hs(e,!!s,z,!1):!!o!=!!s&&(n!=null?hs(e,!!s,n,!0):hs(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}ru(e,z,H);return;case"option":for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,o,z));for(I in o)z=o[I],H=s[I],o.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,I,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)z=s[pt],s.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&Jt(e,n,pt,null,o,z);for(P in o)if(z=o[P],H=s[P],o.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,H)}return;default:if(na(n)){for(var Wt in s)z=s[Wt],s.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&rd(e,n,Wt,void 0,o,z);for(F in o)z=o[F],H=s[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||rd(e,n,F,z,o,H);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Jt(e,n,V,null,o,z);for(X in o)z=o[X],H=s[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||Jt(e,n,X,z,o,H)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&t_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var F=I.transferSize,X=I.initiatorType;F&&t_(X)&&(I=I.responseEnd,g+=F*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(W1)}:i_;function W1(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function r_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")sl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,sl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&sl(e.ownerDocument.body);s=h}while(s);La(n)}function a_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function eA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var zn=new Map,h_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=nt.d;nt.d={f:iA,r:sA,D:rA,C:aA,L:oA,m:lA,X:cA,S:uA,M:hA};function iA(){var e=$i.f(),n=tc();return e||n}function sA(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):$i.r(e)}var Va=typeof document>"u"?null:document;function f_(e,n,s){var o=Va;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),Te(n),o.head.appendChild(n)))}}function rA(e){$i.D(e),f_("dns-prefetch",e,null)}function aA(e,n){$i.C(e,n),f_("preconnect",e,n)}function oA(e,n,s){$i.L(e,n,s);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}zn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),Qe(n,"link",e),Te(n),o.head.appendChild(n)))}}function lA(e,n){$i.m(e,n);var s=Va;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!zn.has(f)&&(e=S({rel:"modulepreload",href:e},n),zn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),Qe(o,"link",e),Te(o),s.head.appendChild(o)}}}function uA(e,n,s){$i.S(e,n,s);var o=Va;if(o&&e){var h=hi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(rl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(f))&&md(e,s);var I=g=o.createElement("link");Te(I),Qe(I,"link",e),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function cA(e,n){$i.X(e,n);var s=Va;if(s&&e){var o=hi(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=zn.get(h))&&gd(e,n),f=s.createElement("script"),Te(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function hA(e,n){$i.M(e,n);var s=Va;if(s&&e){var o=hi(s).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&gd(e,n),f=s.createElement("script"),Te(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,s,o){var h=(h=ot.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=hi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=hi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||fA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=hi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+an(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function fA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",s),Te(n),e.head.appendChild(n))}function Ua(e){return'[src="'+an(e)+'"]'}function al(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Qe(o,"style",h),cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ka(s.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=m_(s),(h=zn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Qe(f,"link",o),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=Ua(s.src),(h=e.querySelector(al(f)))?(n.instance=h,Te(h),h):(o=s,(h=zn.get(f))&&(o=S({},s),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,e));return n.instance}function cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function p_(e,n,s){if(hc===null){var o=new Map,h=hc=new Map;h.set(s,o)}else h=hc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ui]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function dA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=m_(o),(h=zn.get(h))&&md(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function gA(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*X1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(pA,e),dc=null,fc.call(e))}function pA(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var o=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function yA(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function v_(e,n,s,o,h,f,g,E,I,P,F,X){return e=new yA(e,n,s,g,I,P,F,X,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Jh(f),e}function E_(e){return e?(e=da,e):da}function T_(e,n,s,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=bs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ws(e,o,n),s!==null&&(fn(s,e,n),zo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&fn(n,e,67108864),yd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=bn();n=dr(n);var s=wr(e,n);s!==null&&fn(s,e,n),yd(e,n)}}var gc=!0;function _A(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,_d(e,n,s,o)}finally{nt.p=f,G.T=h}}function vA(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,_d(e,n,s,o)}finally{nt.p=f,G.T=h}}function _d(e,n,s,o){if(gc){var h=vd(o);if(h===null)sd(e,n,o,pc,s),R_(e,o);else if(TA(h,e,n,s,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<EA.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-de(g);E.entanglements[1]|=I,g&=~I}bi(f),(Ht&6)===0&&(Ju=nn()+500,el(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&fn(E,f,2),tc(),yd(f,2)}if(f=vd(o),f===null&&sd(e,n,o,pc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,s)}}function vd(e){return e=Nn(e),Ed(e)}var pc=null;function Ed(e){if(pc=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case uo:return 2;case co:return 8;case us:case wh:return 32;case Yl:return 268435456;default:return 32}default:return 32}}var Td=!1,Us=null,Ls=null,Ps=null,ll=new Map,ul=new Map,zs=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function TA(e,n,s,o,h){switch(n){case"focusin":return Us=cl(Us,e,n,s,o,h),!0;case"dragenter":return Ls=cl(Ls,e,n,s,o,h),!0;case"mouseover":return Ps=cl(Ps,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=ci(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){b_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);So=o,s.target.dispatchEvent(o),So=null}else return n=Cn(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){yc(e)&&s.delete(n)}function AA(){Td=!1,Us!==null&&yc(Us)&&(Us=null),Ls!==null&&yc(Ls)&&(Ls=null),Ps!==null&&yc(Ps)&&(Ps=null),ll.forEach(C_),ul.forEach(C_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AA)))}var vc=null;function N_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ed(o||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(e){function n(I){return _c(I,e)}Us!==null&&_c(Us,e),Ls!==null&&_c(Ls,e),Ps!==null&&_c(Ps,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<zs.length;s++){var o=zs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&zs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ue]||null;if(typeof f=="function")g||N_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ue]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),N_(s)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Ec.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();T_(s,o,e,n,null,null)},Ec.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),tc(),n[li]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.3")throw Error(a(527,O_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var SA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Hn=Tc.inject(SA),qe=Tc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Pp,f=zp,g=jp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,o,null,h,f,g,D_),e[li]=n.current,id(e),new Ad(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Pp,g=zp,E=jp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=v_(e,1,!0,n,s??null,o,h,I,f,g,E,D_),n.context=E_(null),s=n.current,o=bn(),o=dr(o),h=bs(o),h.callback=null,ws(s,h,o),s=o,n.current.lanes=s,hr(n,s),bi(n),e[li]=n.current,id(e),new Ec(n)},fl.version="19.2.3",fl}var q_;function MA(){if(q_)return wd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=xA(),wd.exports}var VA=MA();const kA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),B_=r=>{const t=UA(r);return t.charAt(0).toUpperCase()+t.slice(1)},b0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),LA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var PA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zA=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>ne.createElement("svg",{ref:y,...PA,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:b0("lucide",l),...!c&&!LA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>ne.createElement(_,A)),...Array.isArray(c)?c:[c]]));const en=(r,t)=>{const i=ne.forwardRef(({className:a,...l},c)=>ne.createElement(zA,{ref:c,iconNode:t,className:b0(`lucide-${kA(B_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=B_(r),i};const jA=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],qA=en("arrow-down-wide-narrow",jA);const BA=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],HA=en("arrow-up-narrow-wide",BA);const GA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],FA=en("calendar",GA);const QA=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nd=en("circle-play",QA);const KA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],H_=en("cloud",KA);const YA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],XA=en("external-link",YA);const ZA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],$A=en("film",ZA);const JA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WA=en("funnel",JA);const tS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],G_=en("image",tS);const eS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nS=en("lock",eS);const iS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],F_=en("refresh-cw",iS);const sS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Q_=en("search",sS);const rS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K_=en("shield-check",rS);const aS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oS=en("upload",aS);const lS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uS=en("users",lS);const cS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ac=en("x",cS),hS=()=>{};var Y_={};const w0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},fS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(x=64)),a.push(i[A],i[S],i[x],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(w0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):fS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new dS;const x=c<<2|p>>4;if(a.push(x),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mS=function(r){const t=w0(r);return R0.encodeByteArray(t,!0)},zc=function(r){return mS(r).replace(/\./g,"")},I0=function(r){try{return R0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pS=()=>gS().__FIREBASE_DEFAULTS__,yS=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_S=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&I0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return hS()||pS()||yS()||_S()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C0=r=>rh()?.emulatorHosts?.[r],vS=r=>{const t=C0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},N0=()=>rh()?.config,D0=r=>rh()?.[`_${r}`];class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(r){return(await fetch(r,{credentials:"include"})).ok}function TS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const _l={};function AS(){const r={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?r.emulator.push(t):r.prod.push(t);return r}function SS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let X_=!1;function x0(r,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||_l[r]===t||_l[r]||X_)return;_l[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=AS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{X_=!0,d()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=SS(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),Et=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const yt=x.element;p(yt),A(W,st);const Gt=_();y(Et,mt),yt.append(Et,J,W,Gt),document.body.appendChild(yt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function wS(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DS(){return!wS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const MS="FirebaseError";class os extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=MS,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?VS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new os(l,p,a)}}function VS(r,t){return r.replace(kS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const kS=/\{\$([^}]+)}/g;function US(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Z_(c)&&Z_(d)){if(!Hr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z_(r){return r!==null&&typeof r=="object"}function Vl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function LS(r,t){const i=new PS(r,t);return i.subscribe.bind(i)}class PS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");zS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Dd(){}function je(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class jS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ES;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BS(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:qS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qS(r){return r===Pr?void 0:r}function BS(r){return r.instantiationMode==="EAGER"}class HS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new jS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const GS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},FS=xt.INFO,QS={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},KS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=QS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=FS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const YS=(r,t)=>t.some(i=>r instanceof i);let $_,J_;function XS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Qd=new WeakMap,V0=new WeakMap,Od=new WeakMap,Am=new WeakMap;function $S(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ks(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&M0.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function JS(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||V0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function WS(r){Kd=r(Kd)}function tb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(xd(this),t,...i);return V0.set(a,t.sort?t.sort():[t]),Ks(a)}:ZS().includes(r)?function(...t){return r.apply(xd(this),t),Ks(M0.get(this))}:function(...t){return Ks(r.apply(xd(this),t))}}function eb(r){return typeof r=="function"?tb(r):(r instanceof IDBTransaction&&JS(r),YS(r,XS())?new Proxy(r,Kd):r)}function Ks(r){if(r instanceof IDBRequest)return $S(r);if(Od.has(r))return Od.get(r);const t=eb(r);return t!==r&&(Od.set(r,t),Am.set(t,r)),t}const xd=r=>Am.get(r);function nb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Ks(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ks(d.result),y.oldVersion,y.newVersion,Ks(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ib=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Md=new Map;function W_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=sb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ib.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Md.set(t,c),c}WS(r=>({...r,get:(t,i,a)=>W_(t,i)||r.get(t,i,a),has:(t,i)=>!!W_(t,i)||r.has(t,i)}));class rb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ab(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ab(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",tv="0.14.6";const es=new Tm("@firebase/app"),ob="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",db="@firebase/auth-compat",mb="@firebase/database",gb="@firebase/data-connect",pb="@firebase/database-compat",yb="@firebase/functions",_b="@firebase/functions-compat",vb="@firebase/installations",Eb="@firebase/installations-compat",Tb="@firebase/messaging",Ab="@firebase/messaging-compat",Sb="@firebase/performance",bb="@firebase/performance-compat",wb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Ib="@firebase/storage",Cb="@firebase/storage-compat",Nb="@firebase/firestore",Db="@firebase/ai",Ob="@firebase/firestore-compat",xb="firebase",Mb="12.6.0";const Xd="[DEFAULT]",Vb={[Yd]:"fire-core",[ob]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[fb]:"fire-auth",[db]:"fire-auth-compat",[mb]:"fire-rtdb",[gb]:"fire-data-connect",[pb]:"fire-rtdb-compat",[yb]:"fire-fn",[_b]:"fire-fn-compat",[vb]:"fire-iid",[Eb]:"fire-iid-compat",[Tb]:"fire-fcm",[Ab]:"fire-fcm-compat",[Sb]:"fire-perf",[bb]:"fire-perf-compat",[wb]:"fire-rc",[Rb]:"fire-rc-compat",[Ib]:"fire-gcs",[Cb]:"fire-gcs-compat",[Nb]:"fire-fst",[Ob]:"fire-fst-compat",[Db]:"fire-vertex","fire-js":"fire-js",[xb]:"fire-js-all"};const jc=new Map,kb=new Map,Zd=new Map;function ev(r,t){try{r.container.addComponent(t)}catch(i){es.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ka(r){const t=r.name;if(Zd.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of jc.values())ev(i,r);for(const i of kb.values())ev(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}const Ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Ml("app","Firebase",Ub);class Lb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const eo=Mb;function k0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ys.create("bad-app-name",{appName:String(l)});if(i||(i=N0()),!i)throw Ys.create("no-options");const c=jc.get(l);if(c){if(Hr(i,c.options)&&Hr(a,c.config))return c;throw Ys.create("duplicate-app",{appName:l})}const d=new HS(l);for(const y of Zd.values())d.addComponent(y);const p=new Lb(i,a,d);return jc.set(l,p),p}function U0(r=Xd){const t=jc.get(r);if(!t&&r===Xd&&N0())return k0();if(!t)throw Ys.create("no-app",{appName:r});return t}function Xs(r,t,i){let a=Vb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Ka(new Gr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Pb="firebase-heartbeat-database",zb=1,bl="firebase-heartbeat-store";let Vd=null;function L0(){return Vd||(Vd=nb(Pb,zb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function jb(r){try{const i=(await L0()).transaction(bl),a=await i.objectStore(bl).get(P0(r));return await i.done,a}catch(t){if(t instanceof os)es.warn(t.message);else{const i=Ys.create("idb-get",{originalErrorMessage:t?.message});es.warn(i.message)}}}async function nv(r,t){try{const a=(await L0()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,P0(r)),await a.done}catch(i){if(i instanceof os)es.warn(i.message);else{const a=Ys.create("idb-set",{originalErrorMessage:i?.message});es.warn(a.message)}}}function P0(r){return`${r.name}!${r.options.appId}`}const qb=1024,Bb=30;class Hb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Fb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Bb){const l=Qb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iv(),{heartbeatsToSend:i,unsentEntries:a}=Gb(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return es.warn(t),""}}}function iv(){return new Date().toISOString().substring(0,10)}function Gb(r,t=qb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Fb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function sv(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function Qb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Kb(r){Ka(new Gr("platform-logger",t=>new rb(t),"PRIVATE")),Ka(new Gr("heartbeat",t=>new Hb(t),"PRIVATE")),Xs(Yd,tv,r),Xs(Yd,tv,"esm2020"),Xs("fire-js","")}Kb("");var Yb="firebase",Xb="12.7.0";Xs(Yb,Xb,"app");function z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zb=z0,j0=new Ml("auth","Firebase",z0());const qc=new Tm("@firebase/auth");function $b(r,...t){qc.logLevel<=xt.WARN&&qc.warn(`Auth (${eo}): ${r}`,...t)}function Nc(r,...t){qc.logLevel<=xt.ERROR&&qc.error(`Auth (${eo}): ${r}`,...t)}function ns(r,...t){throw bm(r,...t)}function Ri(r,...t){return bm(r,...t)}function q0(r,t,i){const a={...Zb(),[t]:i};return new Ml("auth","Firebase",a).create(t,{appName:r.name})}function ts(r){return q0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return j0.create(r,...t)}function vt(r,t,...i){if(!r)throw bm(t,...i)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function is(r,t){r||Ji(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function Jb(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function Wb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jb()||IS()||"connection"in navigator)?navigator.onLine:!0}function tw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=bS()||CS()}get(){return Wb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,t){is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class B0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ew={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iw=new kl(3e4,6e4);function Ul(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function no(r,t,i,a,l={}){return H0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Vl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return RS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(_.credentials="include"),B0.fetch()(await G0(r,r.config.apiHost,i,p),_)})}async function H0(r,t,i){r._canInitEmulator=!1;const a={...ew,...t};try{const l=new sw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Sc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw q0(r,A,_);ns(r,A)}}catch(l){if(l instanceof os)throw l;ns(r,"network-request-failed",{message:String(l)})}}async function Rm(r,t,i,a,l={}){const c=await no(r,t,i,a,l);return"mfaPendingCredential"in c&&ns(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function G0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return nw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class sw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),iw.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(r,t,a);return l.customData._tokenResponse=i,l}async function rw(r,t){return no(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return no(r,"POST","/v1/accounts:lookup",t)}function vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aw(r,t=!1){const i=je(r),a=await i.getIdToken(t),l=Im(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:vl(kd(l.auth_time)),issuedAtTime:vl(kd(l.iat)),expirationTime:vl(kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(r){return Number(r)*1e3}function Im(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=I0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function av(r){const t=Im(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof os&&ow(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ow({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await wl(r,Bc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?F0(l.providerUserInfo):[],d=cw(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function uw(r){const t=je(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function F0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hw(r,t){const i=await H0(r,{},async()=>{const a=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await G0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(y.credentials="include"),B0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fw(r,t){return no(r,"POST","/v2/accounts:revokeToken",Ul(r,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await hw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function qs(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aw(this,t)}reload(){return uw(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ts(this.auth));const t=await this.getIdToken();return await wl(this,rw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:Q,providerData:J,stsTokenManager:st}=i;vt(S&&st,t,"internal-error");const W=Ha.fromJSON(this.name,st);vt(typeof S=="string",t,"internal-error"),qs(a,t.name),qs(l,t.name),vt(typeof x=="boolean",t,"internal-error"),vt(typeof Q=="boolean",t,"internal-error"),qs(c,t.name),qs(d,t.name),qs(p,t.name),qs(y,t.name),qs(_,t.name),qs(A,t.name);const mt=new ei({uid:S,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(mt.providerData=J.map(Et=>({...Et}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?F0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const y=new ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const ov=new Map;function Wi(r){is(r instanceof Function,"Expected a class definition");let t=ov.get(r);return t?(is(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,ov.set(r,t),t)}class Q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Q0.type="NONE";const lv=Q0;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Wi(lv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(lv);const d=Dc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const x=await Bc(t,{idToken:A}).catch(()=>{});if(!x)break;S=await ei._fromGetAccountInfoResponse(t,x,A)}else S=ei._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ga(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ga(c,t,a))}}function uv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J0(t))return"Blackberry";if(W0(t))return"Webos";if(Y0(t))return"Safari";if((t.includes("chrome/")||X0(t))&&!t.includes("edge/"))return"Chrome";if($0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function K0(r=tn()){return/firefox\//i.test(r)}function Y0(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X0(r=tn()){return/crios\//i.test(r)}function Z0(r=tn()){return/iemobile/i.test(r)}function $0(r=tn()){return/android/i.test(r)}function J0(r=tn()){return/blackberry/i.test(r)}function W0(r=tn()){return/webos/i.test(r)}function Cm(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dw(r=tn()){return Cm(r)&&!!window.navigator?.standalone}function mw(){return NS()&&document.documentMode===10}function tE(r=tn()){return Cm(r)||$0(r)||W0(r)||J0(r)||/windows phone/i.test(r)||Z0(r)}function eE(r,t=[]){let i;switch(r){case"Browser":i=uv(tn());break;case"Worker":i=`${uv(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class gw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function pw(r,t={}){return no(r,"GET","/v2/passwordPolicy",Ul(r,t))}const yw=6;class _w{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new gw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(ts(this));const i=t?je(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pw(this),i=new _w(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ml("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$b(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ll(r){return je(r)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=LS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ew(r){Nm=r}function Tw(r){return Nm.loadJS(r)}function Aw(){return Nm.gapiScript}function Sw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function bw(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hr(c,t??{}))return l;ns(l,"already-initialized")}return i.initialize({options:t})}function ww(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Rw(r,t,i){const a=Ll(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=nE(t),{host:d,port:p}=Iw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Hr(_,a.config.emulator)&&Hr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,to(d)?(O0(`${c}//${d}${y}`),x0("Auth",!0)):Cw()}function nE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Iw(r){const t=nE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:hv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:hv(d)}}}function hv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Cw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class iE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Fa(r,t){return Rm(r,"POST","/v1/accounts:signInWithIdp",Ul(r,t))}const Nw="http://localhost";class Fr extends iE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Fr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:Nw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}class sE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Pl extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Pl{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class Hs extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Gs extends Pl{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Fs extends Pl{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fs.credential(i,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";async function Dw(r,t){return Rm(r,"POST","/v1/accounts:signUp",Ul(r,t))}class ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ei._fromIdTokenResponse(t,a,l),d=fv(a);return new ss({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=fv(a);return new ss({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function fv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Ow(r){if(jn(r.app))return Promise.reject(ts(r));const t=Ll(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ss({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Dw(t,{returnSecureToken:!0}),a=await ss._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Gc extends os{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Gc(t,i,a,l)}}function rE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,c,t,a):c})}async function xw(r,t,i=!1){const a=await wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ss._forOperation(r,"link",a)}async function Mw(r,t,i=!1){const{auth:a}=r;if(jn(a.app))return Promise.reject(ts(a));const l="reauthenticate";try{const c=await wl(r,rE(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=Im(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(r.uid===p,a,"user-mismatch"),ss._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),c}}async function Vw(r,t,i=!1){if(jn(r.app))return Promise.reject(ts(r));const a="signIn",l=await rE(r,a,t),c=await ss._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function kw(r,t){return Rm(r,"POST","/v1/accounts:signInWithCustomToken",Ul(r,t))}async function Uw(r,t){if(jn(r.app))return Promise.reject(ts(r));const i=Ll(r),a=await kw(i,{token:t,returnSecureToken:!0}),l=await ss._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Lw(r,t,i,a){return je(r).onIdTokenChanged(t,i,a)}function Pw(r,t,i){return je(r).beforeAuthStateChanged(t,i)}function zw(r,t,i,a){return je(r).onAuthStateChanged(t,i,a)}const Fc="__sak";class aE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jw=1e3,qw=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);mw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}oE.type="LOCAL";const Bw=oE;class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}lE.type="SESSION";const uE=lE;function Hw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Hw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Dm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function Fw(r){Ii().location.href=r}function cE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Qw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kw(){return navigator?.serviceWorker?.controller||null}function Yw(){return cE()?self:null}const hE="firebaseLocalStorageDb",Xw=1,Qc="firebaseLocalStorage",fE="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oh(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function Zw(){const r=indexedDB.deleteDatabase(hE);return new zl(r).toPromise()}function Wd(){const r=indexedDB.open(hE,Xw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:fE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await Zw(),t(await Wd()))})})}async function dv(r,t,i){const a=oh(r,!0).put({[fE]:t,value:i});return new zl(a).toPromise()}async function $w(r,t){const i=oh(r,!1).get(t),a=await new zl(i).toPromise();return a===void 0?null:a.value}function mv(r,t){const i=oh(r,!0).delete(t);return new zl(i).toPromise()}const Jw=800,Ww=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ww)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(Yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Qw(),!this.activeServiceWorker)return;this.sender=new Gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await dv(t,Fc,"1"),await mv(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>dv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>$w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=oh(l,!1).getAll();return new zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const tR=dE;new kl(3e4,6e4);function eR(r,t){return t?Wi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends iE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function nR(r){return Vw(r.auth,new Om(r),r.bypassAuthState)}function iR(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),Mw(i,new Om(r),r.bypassAuthState)}async function sR(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),xw(i,new Om(r),r.bypassAuthState)}class mE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return iR;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rR=new kl(2e3,1e4);class Ba extends mE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rR.get())};t()}}Ba.currentPopupAction=null;const aR="pendingRedirect",Oc=new Map;class oR extends mE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await lR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lR(r,t){const i=hR(t),a=cR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function uR(r,t){Oc.set(r._key(),t)}function cR(r){return Wi(r._redirectPersistence)}function hR(r){return Dc(aR,r.config.apiKey,r.name)}async function fR(r,t,i=!1){if(jn(r.app))return Promise.reject(ts(r));const a=Ll(r),l=eR(a,t),d=await new oR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const dR=600*1e3;class mR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!gE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dR&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(t))}saveEventToCache(t){this.cachedEventUids.add(gv(t)),this.lastProcessedEventTime=Date.now()}}function gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function gE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function gR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}async function pR(r,t={}){return no(r,"GET","/v1/projects",t)}const yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function vR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pR(r);for(const i of t)try{if(ER(i))return}catch{}ns(r,"unauthorized-domain")}function ER(r){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!_R.test(i))return!1;if(yR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const TR=new kl(3e4,6e4);function pv(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function AR(r){return new Promise((t,i)=>{function a(){pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pv(),i(Ri(r,"network-request-failed"))},timeout:TR.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=Sw("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},Tw(`${Aw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function SR(r){return xc=xc||AR(r),xc}const bR=new kl(5e3,15e3),wR="__/auth/iframe",RR="emulator/auth/iframe",IR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,RR):`https://${r.config.authDomain}/${wR}`,a={apiKey:t.apiKey,appName:r.name,v:eo},l=CR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Vl(a).slice(1)}`}async function DR(r){const t=await SR(r),i=Ii().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:NR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},bR.get());function y(){Ii().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const OR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xR=500,MR=600,VR="_blank",kR="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UR(r,t,i,a=xR,l=MR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...OR,width:a.toString(),height:l.toString(),top:c,left:d},_=tn().toLowerCase();i&&(p=X0(_)?VR:i),K0(_)&&(t=t||kR,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[Q,J])=>`${x}${Q}=${J},`,"");if(dw(_)&&p!=="_self")return LR(t||"",p),new yv(null);const S=window.open(t||"",p,A);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new yv(S)}function LR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const PR="__/auth/handler",zR="emulator/auth/handler",jR=encodeURIComponent("fac");async function _v(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof sE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",US(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Pl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${jR}=${encodeURIComponent(y)}`:"";return`${qR(r)}?${Vl(p).slice(1)}${_}`}function qR({config:r}){return r.emulator?wm(r,zR):`https://${r.authDomain}/${PR}`}const Ud="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=fR,this._overrideRedirectResult=uR}async _openPopup(t,i,a,l){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _v(t,i,a,$d(),l);return UR(t,c,Dm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await _v(t,i,a,$d(),l);return Fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await DR(t),a=new mR(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const c=l?.[0]?.[Ud];c!==void 0&&i(!!c),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=vR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return tE()||Y0()||Cm()}}const HR=BR;var vv="@firebase/auth",Ev="1.12.0";class GR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(r){Ka(new Gr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(r)},_=new vw(a,l,c,y);return ww(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ka(new Gr("auth-internal",t=>{const i=Ll(t.getProvider("auth").getImmediate());return(a=>new GR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(vv,Ev,FR(r)),Xs(vv,Ev,"esm2020")}const KR=300,YR=D0("authIdTokenMaxAge")||KR;let Tv=null;const XR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>YR)return;const l=i?.token;Tv!==l&&(Tv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ZR(r=U0()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=bw(r,{popupRedirectResolver:HR,persistence:[tR,Bw,uE]}),a=D0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=XR(c.toString());Pw(i,d,()=>d(i.currentUser)),Lw(i,p=>d(p))}}const l=C0("auth");return l&&Rw(i,`http://${l}`),i}function $R(){return document.getElementsByTagName("head")?.[0]??document}Ew({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",$R().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,pE;(function(){var r;function t(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,k){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],N=C.g[2];let k=C.g[3],w;w=b+(k^R&(N^k))+M[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(N^b&(R^N))+M[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(R^k&(b^R))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(b^N&(k^b))+M[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(k^R&(N^k))+M[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(N^b&(R^N))+M[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(R^k&(b^R))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(b^N&(k^b))+M[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(k^R&(N^k))+M[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(N^b&(R^N))+M[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(R^k&(b^R))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(b^N&(k^b))+M[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(k^R&(N^k))+M[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=k+(N^b&(R^N))+M[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(R^k&(b^R))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(b^N&(k^b))+M[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(N^k&(R^N))+M[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(b^R))+M[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(k^b))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(N^k))+M[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(R^N))+M[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(b^R))+M[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(k^b))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(N^k))+M[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(R^N))+M[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(b^R))+M[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(k^b))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(N^k))+M[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(R^N))+M[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(b^R))+M[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(k^b))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^b&(N^k))+M[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(R^N^k)+M[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^N)+M[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^R)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^b)+M[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^k)+M[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^N)+M[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^R)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^b)+M[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^k)+M[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^N)+M[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^R)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^b)+M[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^k)+M[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=k+(b^R^N)+M[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^R)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^b)+M[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(N^(R|~k))+M[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~N))+M[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~R))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~b))+M[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~k))+M[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~N))+M[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~R))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~b))+M[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~k))+M[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~N))+M[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~R))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~b))+M[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~k))+M[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=k+(R^(b|~N))+M[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~R))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<b;){if(N==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<b;)if(M[N++]=C[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[b++]=this.g[R]>>>M&255;return C};function c(C,b){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function d(C,b){this.h=b;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==b||(R[N]=k,M=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(_(-C));const b=[];let R=1;for(let M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(b,8));let M=S;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),b);N<8?(N=_(Math.pow(b,N)),M=M.j(N).add(_(w))):(M=M.j(R),M=M.add(_(w)))}return M}var S=y(0),x=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(st(this))return-W(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(st(this))return"-"+W(this).toString(C);const b=_(Math.pow(C,6));var R=this;let M="";for(;;){const N=Gt(R,b).g;R=mt(R,N.j(b));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,J(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function st(C){return C.h==-1}r.l=function(C){return C=mt(this,C),st(C)?-1:J(C)?0:1};function W(C){const b=C.g.length,R=[];for(let M=0;M<b;M++)R[M]=~C.g[M];return new d(R,~C.h).add(x)}r.abs=function(){return st(this)?W(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=b;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,R[N]=w<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(C,b){return C.add(W(b))}r.j=function(C){if(J(this)||J(C))return S;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,ee=C.i(N)>>>16,fe=C.i(N)&65535;R[2*M+2*N]+=w*fe,Et(R,2*M+2*N),R[2*M+2*N+1]+=k*fe,Et(R,2*M+2*N+1),R[2*M+2*N+1]+=w*ee,Et(R,2*M+2*N+1),R[2*M+2*N+2]+=k*ee,Et(R,2*M+2*N+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new d(R,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function yt(C,b){this.g=C,this.h=b}function Gt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new yt(S,S);if(st(C))return b=Gt(W(C),b),new yt(W(b.g),W(b.h));if(st(b))return b=Gt(C,W(b)),new yt(W(b.g),b.h);if(C.g.length>30){if(st(C)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=b;M.l(C)<=0;)R=Ft(R),M=Ft(M);var N=kt(R,1),k=kt(M,1);for(M=kt(M,2),R=kt(R,2);!J(M);){var w=k.add(M);w.l(C)<=0&&(N=N.add(R),k=w),M=kt(M,1),R=kt(R,1)}return b=mt(C,N.j(b)),new yt(N,b)}for(N=S;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(R),w=k.j(b);st(w)||w.l(C)>0;)R-=M,k=_(R),w=k.j(b);J(k)&&(k=x),N=N.add(k),C=mt(C,w)}return new yt(N,C)}r.B=function(C){return Gt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function Ft(C){const b=C.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function kt(C,b){const R=b>>5;b%=32;const M=C.g.length-R,N=[];for(let k=0;k<M;k++)N[k]=b>0?C.i(k+R)>>>b|C.i(k+R+1)<<32-b:C.i(k+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Zs=d}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,ml,_E,Mc,tm,vE,EE,TE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[U].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=U[tt]}else u.push(U)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new st(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,kt=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ee,N),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function B(u){this.src=u,this.g={},this.h=0}B.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=ot(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ot(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),gt={};function Rt(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Rt(u,m[q],v,T,U);return null}return v=lo(v),u&&u[fe]?u.J(m,v,p(T)?!!T.capture:!1,U):De(u,m,v,!1,T,U)}function De(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let bt=lr(u);if(bt||(u[ut]=bt=new B(u)),v=bt.add(m,v,T,tt,q),v.proxy)return v;if(T=Rn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rn(){function u(v){return m.call(u.src,u.listener,v)}const m=or;return u}function Bn(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Bn(u,m[q],v,T,U);else T=p(T)?!!T.capture:!!T,v=lo(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ot(m,v,T,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,v,T,U)),(v=u>-1?m[u]:null)&&ke(v))}function ke(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(gn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=lr(m))?(et(v,u),v.h==0&&(v.src=null,m[ut]=null)):ht(u)}}}function gn(u){return u in gt?gt[u]:gt[u]="on"+u}function or(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ke(u),u=v.call(T,m)}return u}function lr(u){return u=u[ut],u instanceof B?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function _e(){M.call(this),this.i=new B(this),this.M=this,this.G=null}S(_e,M),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Bn(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),it(m,U)}U=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],U=ls(q,T,!0,m)&&U;if(q=m.g=u,U=ls(q,T,!0,m)&&U,U=ls(q,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],U=ls(q,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ls(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,me=tt.ha||tt.src;tt.fa&&et(u.i,tt),U=bt.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Kl(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,Kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}S(ur,M);var uo=[];function co(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&ke(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),co(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,wh=d.JSON.parse,Yl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xl(){}function Zl(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){N.call(this,"d")}S(qe,N);function In(){N.call(this,"c")}S(In,N);var de={},$l=null;function $r(){return $l=$l||new _e}de.Ia="serverreachability";function Jl(u){N.call(this,de.Ia,u)}S(Jl,N);function si(u){const m=$r();Oe(m,new Jl(m))}de.STAT_EVENT="statevent";function cr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}S(cr,N);function ve(u){const m=$r();Oe(m,new cr(m,u))}de.Ja="timingevent";function ri(u,m){N.call(this,de.Ja,u),this.size=m}S(ri,N);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Rh(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var tt="",bt=q.split("&");for(let Bt=0;Bt<bt.length;Bt++){var me=bt[Bt].split("=");if(me.length>1){const oe=me[0];me=me[1];const On=oe.split("_");tt=On.length>=2&&On[1]=="type"?tt+(oe+"="+me+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function Wl(u,m,v,T,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+tt})}function oi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return us(q)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function dr(){}S(dr,Xl),dr.prototype.g=function(){return new XMLHttpRequest},fo=new dr;function Mi(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function li(u,m,v){u.M=1,u.A=mr(Ae(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),ui(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Qn,u.g=gu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(uo[0]=U.toString()),U=uo);for(let q=0;q<U.length;q++){const tt=Rt(v,U[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Xn(this.g),me=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||me==7||(me==8||Bt<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Ch(this);if(this.o=m==200,Wl(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,ve(12),pn(this),Cn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=nu(this,v),oe==Ue){bt==4&&(this.m=4,ve(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,oe,null),hi(this,oe);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Co(tt),tt.P=!0,ve(11))}}else oi(this.i,this.l,v,null),hi(this,v);bt==4&&pn(this),this.o&&!this.K&&(bt==4?hu(this.j,this):(this.o=!1,ui(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),pn(this),Cn(this)}}}catch{}};function Ch(u){if(!eu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,U=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(_(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(si(),ve(17)),pn(this),this.m=2,Cn(this)):Wr(this,this.T-u)};function Cn(u){u.j.I==0||u.K||hu(u.j,u)}function pn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ys(v);else break t;Tr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(_(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&oa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const oe=Bt[0];if(!(oe<=v.K))if(v.K=oe,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const On=Bt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ei=Bt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Zn=Bt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $n=u.g;if($n){const Ar=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var q=T.h;q.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(po(q,q.h),q.h=null))}if(T.G){const la=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Kt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=mu(T,T.L?T.ba:null,T.W),tt.L){yo(T.h,tt);var bt=tt,me=T.O;me&&(bt.H=me),bt.D&&(ci(bt),ui(bt)),T.g=tt}else uu(T);v.i.length>0&&_i(v)}else Bt[0]!="stop"&&Bt[0]!="close"||vi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?vi(v,7):Ro(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}si(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,vo(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),cs(this,m[4]),this.h=mi(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,ea,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?Eo:su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,ru)),u.join("")},yn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let tt=0;tt<U.length;){const bt=U[tt++];bt=="."?T&&tt==U.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==U.length&&q.push("")):(q.push(bt),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?vo(m,ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new yn(u)}function Le(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,v){m instanceof fs?(u.i=m,ia(u.i,u.l)):(v||(m=gr(m,hs)),u.i=new fs(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function mr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,su=/[#\?:]/g,Eo=/[#\?]/g,hs=/[#\?@]/g,ru=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fs.prototype,r.add=function(u,m){on(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function au(u,m){on(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return on(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){on(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ao(u,m){on(u);let v=[];if(typeof m=="string")To(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return on(this),this.i=null,u=ds(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){au(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Mi(v);v=Ao(this,v);for(let q=0;q<v.length;q++){let tt=U;v[q]!==""&&(tt+="="+Mi(v[q])),u.push(tt)}}return this.i=u.join("&")};function ou(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(au(this,T),na(this,U,v))},u)),u.j=m}function Kn(u,m){const v=new Gn;if(d.Image){const T=new Image;T.onload=A(Nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Nn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const v=new Gn,T=new AbortController,U=setTimeout(()=>{T.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function ms(){this.g=new Yl}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,Xl),gi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,_e),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Yn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},r.Na=function(u){this.g&&(this.response=u,gs(this))},r.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Dn(v),typeof u=="string"?v!=null&&Mi(v):Kt(u,m,v))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,_e);var pi=/^https?$/i,bo=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_r(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){_r(this,q)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Vi(u)}function wo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let tt=String(u.D).match(iu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!pi.test(tt?tt.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var U=Xn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",wo(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=tu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ps.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),_i(this)};function Ro(u){if(ra(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Er(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=mr(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}du(u)}function ys(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ra(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||b(),kt||(Ft(),kt=!0),C.add(m,u),u.D=0}}function aa(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(_(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Fn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=lu(this,U,m),v=Ae(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Er(this,v),q&&(this.R?m="headers="+Mi(Dn(q))+"&"+m:this.u&&yr(v,this.u,q)),po(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,li(U,v,null)):li(U,v,m),this.I=2}}else this.I==3&&(u?Io(this,u):this.i.length==0||go(this.h)||Io(this))};function Io(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,v),li(v,T,m)}function Er(u,m){u.H&&Ut(u.H,function(v,T){Kt(m,T,v)}),u.l&&Ut({},function(v,T){Kt(m,T,v)})}function lu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const me=["count="+v];bt==-1?v>0?(bt=U[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let Bt=!0;for(let oe=0;oe<v;oe++){var q=U[oe].g;const On=U[oe].map;if(q-=bt,q<0)bt=Math.max(0,U[oe].g-100),Bt=!1;else try{q="req"+q+"_"||"";try{var tt=On instanceof Map?On:Object.entries(On);for(const[Ei,Zn]of tt){let $n=Zn;p(Zn)&&($n=us(Zn)),me.push(q+Ei+"="+encodeURIComponent($n))}}catch(Ei){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{T&&T(On)}}if(Bt){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||b(),kt||(Ft(),kt=!0),C.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(_(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ys(this),cu(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Ae(m)),v.u=null,v.R=!0,Jr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),Tr(this),ve(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var v=null;if(u.g==m){oa(u),Co(u),u.g=null;var T=2}else if(di(u.h,m))v=m.G,yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=$r(),Oe(T,new ri(T,v)),_i(u)}else uu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function fu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),mr(T),U?Kn(T.toString(),v):So(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),du(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,v){var T=v instanceof yn?Ae(v):new yn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new yn(null);T&&Le(q,T),m&&(q.g=m),U&&cs(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),Er(u,T),T}function gu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new gi({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){_e.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(sn,_e),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ro(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&_i(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,sn.Z.N.call(this)};function yu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(yu,qe);function _u(){In.call(this),this.status=1}S(_u,In);function Ui(u){this.g=u}S(Ui,pu),Ui.prototype.ra=function(){Oe(this.g,"a")},Ui.prototype.qa=function(u){Oe(this.g,new yu(u))},Ui.prototype.pa=function(u){Oe(this.g,new _u)},Ui.prototype.oa=function(){Oe(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,TE=function(){return new _s},EE=function(){return $r()},vE=de,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Mc=fr,ho.COMPLETE="complete",_E=ho,Zl.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,ml=Zl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,yE=Zt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",bv="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let io="12.7.0";const Qr=new Tm("@firebase/firestore");function Pa(){return Qr.logLevel}function at(r,...t){if(Qr.logLevel<=xt.DEBUG){const i=t.map(xm);Qr.debug(`Firestore (${io}): ${r}`,...i)}}function rs(r,...t){if(Qr.logLevel<=xt.ERROR){const i=t.map(xm);Qr.error(`Firestore (${io}): ${r}`,...i)}}function Ya(r,...t){if(Qr.logLevel<=xt.WARN){const i=t.map(xm);Qr.warn(`Firestore (${io}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,AE(r,a,i)}function AE(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rs(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||AE(t,l,a)}function St(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class SE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class WR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class t2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $s,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $s)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new SE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class e2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new e2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function s2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=s2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Mt(l,c):Ld(l)?1:-1}return Mt(r.length,t.length)}const r2=55296,a2=57343;function Ld(r){const t=r.charCodeAt(0);return t>=r2&&t<=a2}function Xa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Rv="__name__";class wi{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=wi.isNumericId(t),l=wi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class ie extends wi{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const o2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return o2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new Ye([Rv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ie.fromString(t))}static fromName(t){return new dt(ie.fromString(t).popFirst(5))}static empty(){return new dt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ie(t.slice()))}}function bE(r,t,i){if(!i)throw new rt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function l2(r,t,i,a){if(t===!0&&a===!0)throw new rt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Iv(r){if(!dt.isDocumentKey(r))throw new rt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cv(r){if(dt.isDocumentKey(r))throw new rt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function jr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(r);throw new rt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ne(r,t){const i={typeString:r};return t&&(i.value=t),i}function jl(r,t){if(!wE(r))throw new rt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(Z.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Dv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Dv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Nv)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function u2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new Ws(l,dt.empty(),t)}function c2(r){return new Ws(r.readTime,r.key,Rl)}class Ws{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ws(Tt.min(),dt.empty(),Rl)}static max(){return new Ws(Tt.max(),dt.empty(),Rl)}}function h2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const f2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==f2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function m2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Vm=-1;function ch(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function g2(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const RE="";function p2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ov(t)),t=y2(r.get(i),t);return Ov(t)}function y2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function Ov(r){return r+RE+""}function xv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function rr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function IE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ke(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(t){return new Mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Ve(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const _2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=_2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function er(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const NE="server_timestamp",DE="__type__",OE="__previous_value__",xE="__local_write_time__";function km(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===NE}function hh(r){const t=r.mapValue.fields[OE];return km(t)?hh(t):t}function Il(r){const t=tr(r.mapValue.fields[xE].timestampValue);return new ae(t.seconds,t.nanos)}class v2{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const ME="__type__",E2="__max__",Rc={mapValue:{}},VE="__vector__",Xc="value";function nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?km(r)?4:A2(r)?9007199254740991:T2(r)?10:11:_t(28295,{value:r})}function xi(r,t){if(r===t)return!0;const i=nr(r);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=tr(l.timestampValue),p=tr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return er(l.bytesValue).isEqual(er(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(xv(d)!==xv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!xi(d[y],p[y])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Nl(r,t){return(r.values||[]).find((i=>xi(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=nr(r),a=nr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Vv(r.timestampValue,t.timestampValue);case 4:return Vv(Il(r),Il(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=er(c),y=er(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Mt(p[_],y[_]);if(A!==0)return A}return Mt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ye(c.latitude),ye(d.latitude));return p!==0?p:Mt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return kv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Xc]?.arrayValue,A=y[Xc]?.arrayValue,S=Mt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:kv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const x=em(y[S],A[S]);if(x!==0)return x;const Q=Za(p[y[S]],_[A[S]]);if(Q!==0)return Q}return Mt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=tr(r),a=tr(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function kv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function $a(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=tr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Vc(r){switch(nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return rr(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function Uv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function im(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function Lv(r){return!!r&&"nullValue"in r}function Pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function T2(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===VE}function El(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(r.arrayValue.values[i]);return t}return{...r}}function A2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===E2}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){rr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new mn(El(this.value))}}function kE(r){const t=[];return rr(r.fields,((i,a)=>{const l=new Ye([i]);if(kc(a)){const c=kE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class We{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new We(t,0,Tt.min(),Tt.min(),Tt.min(),mn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,Tt.min(),Tt.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,Tt.min(),Tt.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function zv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function jv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],t.position[i]))return!1;return!0}class $c{constructor(t,i="asc"){this.field=t,this.dir=i}}function S2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class UE{}class Ce extends UE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new w2(t,i,a):i==="array-contains"?new C2(t,a):i==="in"?new N2(t,a):i==="not-in"?new D2(t,a):i==="array-contains-any"?new O2(t,a):new Ce(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new R2(t,a):new I2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ii(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(r){return r.op==="and"}function PE(r){return b2(r)&&LE(r)}function b2(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function sm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(PE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function zE(r,t){return r instanceof Ce?(function(a,l){return l instanceof Ce&&a.op===l.op&&a.field.isEqual(l.field)&&xi(a.value,l.value)})(r,t):r instanceof ii?(function(a,l){return l instanceof ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&zE(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function jE(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(r):r instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(r):"Filter"}class w2 extends Ce{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class R2 extends Ce{constructor(t,i){super(t,"in",i),this.keys=qE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class I2 extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=qE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function qE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class C2 extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Nl(i.arrayValue,this.value)}}class N2 extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class D2 extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class O2 extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Nl(this.value.arrayValue,a)))}}class x2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function qv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new x2(r,t,i,a,l,c,d)}function Lm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>$a(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>$a(a))).join(",")),t.Te=i}return t.Te}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!S2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!zE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!jv(r.startAt,t.startAt)&&jv(r.endAt,t.endAt)}function rm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ql{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M2(r,t,i,a,l,c,d,p){return new ql(r,t,i,a,l,c,d,p)}function zm(r){return new ql(r)}function Bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function BE(r){return r.collectionGroup!==null}function Tl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new $c(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new $c(Ye.keyField(),a))}return t.Ie}function Ci(r){const t=St(r);return t.Ee||(t.Ee=V2(t,Tl(r))),t.Ee}function V2(r,t){if(r.limitType==="F")return qv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new $c(l.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return qv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t){const i=r.filters.concat([t]);return new ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function om(r,t,i){return new ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function fh(r,t){return Pm(Ci(r),Ci(t))&&r.limitType===t.limitType}function HE(r){return`${Lm(Ci(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${a})`})(Ci(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Tl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=zv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Tl(a),l)||a.endAt&&!(function(d,p,y){const _=zv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Tl(a),l))})(r,t)}function k2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function GE(r){return(t,i)=>{let a=!1;for(const l of Tl(r)){const c=U2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function U2(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Za(y,_):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const L2=new ue(dt.comparator);function as(){return L2}const FE=new ue(dt.comparator);function gl(...r){let t=FE;for(const i of r)t=t.insert(i.key,i);return t}function QE(r){let t=FE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return Al()}function KE(){return Al()}function Al(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const P2=new ue(dt.comparator),z2=new Ve(dt.comparator);function Vt(...r){let t=z2;for(const i of r)t=t.add(i);return t}const j2=new Ve(Mt);function q2(){return j2}function jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function YE(r){return{integerValue:""+r}}function B2(r,t){return g2(t)?YE(t):jm(r,t)}class mh{constructor(){this._=void 0}}function H2(r,t,i){return r instanceof Jc?(function(l,c){const d={fields:{[DE]:{stringValue:NE},[xE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&km(c)&&(c=hh(c)),c&&(d.fields[OE]=c),{mapValue:d}})(i,t):r instanceof Dl?ZE(r,t):r instanceof Ol?$E(r,t):(function(l,c){const d=XE(l,c),p=Hv(d)+Hv(l.Ae);return im(d)&&im(l.Ae)?YE(p):jm(l.serializer,p)})(r,t)}function G2(r,t,i){return r instanceof Dl?ZE(r,t):r instanceof Ol?$E(r,t):i}function XE(r,t){return r instanceof Wc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Jc extends mh{}class Dl extends mh{constructor(t){super(),this.elements=t}}function ZE(r,t){const i=JE(t);for(const a of r.elements)i.some((l=>xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ol extends mh{constructor(t){super(),this.elements=t}}function $E(r,t){let i=JE(t);for(const a of r.elements)i=i.filter((l=>!xi(l,a)));return{arrayValue:{values:i}}}class Wc extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Hv(r){return ye(r.integerValue||r.doubleValue)}function JE(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function F2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Dl&&l instanceof Dl||a instanceof Ol&&l instanceof Ol?Xa(a.elements,l.elements,xi):a instanceof Wc&&l instanceof Wc?xi(a.Ae,l.Ae):a instanceof Jc&&l instanceof Jc})(r.transform,t.transform)}class Q2{constructor(t,i){this.version=t,this.transformResults=i}}class ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function WE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qm(r.key,ni.none()):new Bl(r.key,r.data,ni.none());{const i=r.data,a=mn.empty();let l=new Ve(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ar(r.key,a,new wn(l.toArray()),ni.none())}}function K2(r,t,i){r instanceof Bl?(function(l,c,d){const p=l.value.clone(),y=Fv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ar?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Fv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(tT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(r,t,i,a){return r instanceof Bl?(function(c,d,p,y){if(!Uc(c.precondition,d))return p;const _=c.value.clone(),A=Qv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof ar?(function(c,d,p,y){if(!Uc(c.precondition,d))return p;const _=Qv(c.fieldTransforms,y,d),A=d.data;return A.setAll(tT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Y2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=XE(a.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function Gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((c,d)=>F2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bl extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Fv(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,G2(d,p,i[l]))}return a}function Qv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,H2(c,d,t))}return a}class qm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X2 extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&K2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=KE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=WE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Gv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Gv(i,a)))}}class Bm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return P2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Bm(t,i,a,l)}}class $2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Pt;function W2(r){switch(r){case Z.OK:return _t(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function eT(r){if(r===void 0)return rs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ie.OK:return Z.OK;case Ie.CANCELLED:return Z.CANCELLED;case Ie.UNKNOWN:return Z.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return Z.INTERNAL;case Ie.UNAVAILABLE:return Z.UNAVAILABLE;case Ie.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ie.NOT_FOUND:return Z.NOT_FOUND;case Ie.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ie.ABORTED:return Z.ABORTED;case Ie.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ie.DATA_LOSS:return Z.DATA_LOSS;default:return _t(39323,{code:r})}}(Pt=Ie||(Ie={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function tI(){return new TextEncoder}const eI=new Zs([4294967295,4294967295],0);function Kv(r){const t=tI().encode(r),i=new pE;return i.update(t),new Uint8Array(i.digest())}function Yv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zs([i,a],0),new Zs([l,c],0)]}class Hm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(a<0)throw new pl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Zs.fromNumber(a)));return l.compare(eI)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Kv(t),[a,l]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Hm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Kv(t),[a,l]=Yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(Tt.min(),l,new ue(Mt),as(),Vt())}}class Hl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Vt(),Vt(),Vt())}}class Lc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class nT{constructor(t,i){this.targetId=t,this.Ce=i}}class iT{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Xv{constructor(){this.ve=0,this.Fe=Zv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nI{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.Je=Ic(),this.He=Ic(),this.Ye=new ue(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new dt(c.path);this.et(i,d,We.newNoDocument(d,Tt.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=er(a).toUint8Array()}catch(y){if(y instanceof CE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Hm(d,l,c)}catch(y){return Ya(y instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,We.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ye,this.je,a);return this.je=as(),this.Je=Ic(),this.He=Ic(),this.Ye=new ue(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Xv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new ue(dt.comparator)}function Zv(){return new ue(dt.comparator)}const iI={asc:"ASCENDING",desc:"DESCENDING"},sI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rI={and:"AND",or:"OR"};class aI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function oI(r,t){return th(r,t.toTimestamp())}function Ni(r){return Qt(!!r,49232),Tt.fromTimestamp((function(i){const a=tr(i);return new ae(a.seconds,a.nanos)})(r))}function Gm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function rT(r){const t=ie.fromString(r);return Qt(cT(t),10190,{key:t.toString()}),t}function cm(r,t){return Gm(r.databaseId,t.path)}function Pd(r,t){const i=rT(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(oT(i))}function aT(r,t){return Gm(r.databaseId,t)}function lI(r){const t=rT(r);return t.length===4?ie.emptyPath():oT(t)}function hm(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $v(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function uI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:eT(_.code);return new rt(A,_.message||"")})(d);i=new iT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(r,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):Tt.min(),p=new mn({mapValue:{fields:a.document.fields}}),y=We.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Lc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(r,a.document),c=a.readTime?Ni(a.readTime):Tt.min(),d=We.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Lc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new J2(l,c),p=a.targetId;i=new nT(p,d)}}return i}function cI(r,t){let i;if(t instanceof Bl)i={update:$v(r,t.key,t.value)};else if(t instanceof qm)i={delete:cm(r,t.key)};else if(t instanceof ar)i={update:$v(r,t.key,t.data),updateMask:vI(t.fieldMask)};else{if(!(t instanceof X2))return _t(16599,{Vt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:oI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function hI(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(Tt.min())&&(d=Ni(c)),new Q2(d,l.transformResults||[])})(i,t)))):[]}function fI(r,t){return{documents:[aT(r,t.path)]}}function dI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aT(r,l);const c=(function(_){if(_.length!==0)return uT(ii.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:ja(x.field),direction:pI(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function mI(r){let t=lI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const x=lT(S);return x instanceof ii&&PE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(J){return new $c(qa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,ch(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(S){const x=!!S.before,Q=S.values||[];return new Zc(Q,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const x=!S.before,Q=S.values||[];return new Zc(Q,x)})(i.endAt)),M2(t,l,d,c,p,"F",y,_)}function gI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((a=>lT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function pI(r){return iI[r]}function yI(r){return sI[r]}function _I(r){return rI[r]}function ja(r){return{fieldPath:r.canonicalString()}}function qa(r){return Ye.fromServerFormat(r.fieldPath)}function uT(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(Pv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Pv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:yI(i.op),value:i.value}}})(r):r instanceof ii?(function(i){const a=i.getFilters().map((l=>uT(l)));return a.length===1?a[0]:{compositeFilter:{op:_I(i.op),filters:a}}})(r):_t(54877,{filter:r})}function vI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qs{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class EI{constructor(t){this.yt=t}}function TI(r){const t=mI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class AI{constructor(){this.Cn=new SI}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Ws.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class SI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(hT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const Wv="LruGarbageCollector",bI=1048576;function t0([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class wI{constructor(t){this.Ir=t,this.buffer=new Ve(t0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();t0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class RI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?at(Wv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class II{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(uh.ce);const a=new wI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Pa()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function CI(r,t){return new II(r,t)}class NI{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class OI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Sl(a.mutation,l,wn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=gl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=as();const d=Al(),p=(function(){return Al()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ar)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Sl(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new DI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new ue(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||wn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(l.get(p.batchId)||Vt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=KE();A.forEach((x=>{if(!c.has(x)){const Q=WE(i.get(x),a.get(x));Q!==null&&S.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):BE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(zr());let p=Rl,y=c;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Vt()))).next((A=>({batchId:p,changes:QE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=gl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(S,x){return new ql(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))}));let p=gl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Sl(A.mutation,_,wn.empty(),ae.now()),dh(i,_)&&(p=p.insert(y,_))})),p}))}}class xI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:TI(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),$.resolve()}}class MI{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=zr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=zr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=zr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new $2(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class VI{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Fm{constructor(){this.Qr=new Ve(ze.$r),this.Ur=new Ve(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new ze(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new ze(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new ie([])),a=new ze(i,t),l=new ze(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ie([])),a=new ze(i,t),l=new ze(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class kI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(ze.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Z2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Mt);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new dt(c),0);let p=new Ve(Mt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new ze(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class UI{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=as();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=as();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||h2(c2(A),a)<=0||(l.has(A.key)||dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new LI(this)}getSize(t){return $.resolve(this.size)}}class LI extends NI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class PI{constructor(t){this.persistence=t,this.si=new Yr((i=>Lm(i)),Pm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class fT{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new VI,this.referenceDelegate=t(this),this.Pi=new PI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(l){return new UI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new EI(i),this.Ii=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new MI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new kI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new zI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class zI extends d2{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Yr((a=>p2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=CI(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Km(t,i.fromCache,a,l)}}class jI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class qI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DS()?8:m2(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new jI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Pa()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Pa()<=xt.DEBUG&&at("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):$.resolve())}ys(t,i){if(Bv(i))return $.resolve(null);let a=Ci(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Bv(i)||l.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Pa()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,u2(l,Rl)).next((p=>p)))}))}Ds(t,i){let a=new Ve(GE(t));return i.forEach(((l,c)=>{dh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Pa()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ws.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",BI=3e8;class HI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Mt),this.xs=new Yr((c=>Lm(c)),Pm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function GI(r,t,i,a){return new HI(r,t,i,a)}async function dT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Vt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function FI(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,x=S.keys();let Q=$.resolve();return x.forEach((J=>{Q=Q.next((()=>A.getEntry(y,J))).next((st=>{const W=_.docVersions.get(J);Qt(W!==null,48541),st.version.compareTo(W)<0&&(S.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function mT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function QI(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Xe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(S,Q),(function(st,W,mt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=BI?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=as(),_=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(KI(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function KI(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=as();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Ym,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function YI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function XI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;at(Ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function e0(r,t,i){const a=St(r);let l=Tt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=St(y),x=S.xs.get(A);return x!==void 0?$.resolve(S.Ms.get(x)):S.Pi.getTargetData(_,A)})(a,d,Ci(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Vt()))).next((p=>(ZI(a,k2(t),p),{documents:p,Qs:c})))))}function ZI(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class n0{constructor(){this.activeTargetIds=q2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $I{constructor(){this.Mo=new n0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new n0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JI{Oo(t){}shutdown(){}}const i0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(i0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(i0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function dm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const zd="RestConnection",WI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());at(zd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=to(_);return this.Jo(t,p,y,a,A).then((S=>(at(zd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ya(zd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=WI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class eC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class nC extends tC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=dm();return new Promise(((p,y)=>{const _=new yE;_.setWithCredentials(!0),_.listenOnce(_E.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const S=_.getResponseJson();at($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Mc.TIMEOUT:at($e,`RPC '${t}' ${d} timed out`),y(new rt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const x=_.getStatus();if(at($e,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const st=(function(mt){const Et=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Et)>=0?Et:Z.UNKNOWN})(J.status);y(new rt(st,J.message))}else y(new rt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new rt(Z.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at($e,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),p=EE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");at($e,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let x=!1,Q=!1;const J=new eC({Yo:W=>{Q?at($e,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(at($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),at($e,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),st=(W,mt,Et)=>{W.listen(mt,(yt=>{try{Et(yt)}catch(Gt){setTimeout((()=>{throw Gt}),0)}}))};return st(S,ml.EventType.OPEN,(()=>{Q||(at($e,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),st(S,ml.EventType.CLOSE,(()=>{Q||(Q=!0,at($e,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),st(S,ml.EventType.ERROR,(W=>{Q||(Q=!0,Ya($e,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new rt(Z.UNAVAILABLE,"The operation could not be completed")))})),st(S,ml.EventType.MESSAGE,(W=>{if(!Q){const mt=W.data[0];Qt(!!mt,16349);const Et=mt,yt=Et?.error||Et[0]?.error;if(yt){at($e,`RPC '${t}' stream ${l} received error:`,yt);const Gt=yt.status;let Ft=(function(b){const R=Ie[b];if(R!==void 0)return eT(R)})(Gt),kt=yt.message;Ft===void 0&&(Ft=Z.INTERNAL,kt="Unknown error status: "+Gt+" with message "+yt.message),Q=!0,J.a_(new rt(Ft,kt)),S.close()}else at($e,`RPC '${t}' stream ${l} received:`,mt),J.u_(mt)}})),st(p,vE.STAT_EVENT,(W=>{W.stat===tm.PROXY?at($e,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===tm.NOPROXY&&at($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function jd(){return typeof document<"u"?document:null}function yh(r){return new aI(r,!0)}class gT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const r0="PersistentStream";class pT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(r0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iC extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=uI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ni(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=rm(y)?{documents:fI(c,y)}:{query:dI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sT(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=gI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class sC extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=hI(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>cI(this.serializer,a)))};this.q_(i)}}class rC{}class aC extends rC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class lC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(at(Kr,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await Gl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await _h(_)})(this))}))})),this.Ra=new oC(a,l)}}async function _h(r){if(Xr(r))for(const t of r.da)await t(!0)}async function Gl(r){for(const t of r.da)await t(!1)}function yT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?$m(i):ao(i).O_()&&Zm(i,t))}function Xm(r,t){const i=St(r),a=ao(i);i.Ia.delete(t),a.O_()&&_T(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Ra.set("Unknown"))}function Zm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Y_(t)}function _T(r,t){r.Va.Ue(t),ao(r).Z_(t)}function $m(r){r.Va=new nI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function Jm(r){return Xr(r)&&!ao(r).x_()&&r.Ia.size>0}function Xr(r){return St(r).Ea.size===0}function vT(r){r.Va=void 0}async function uC(r){r.Ra.set("Online")}async function cC(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function hC(r,t){vT(r),Jm(r)?(r.Ra.ha(t),$m(r)):r.Ra.set("Unknown")}async function fC(r,t,i){if(r.Ra.set("Online"),t instanceof iT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof nT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await mT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),_T(c,y);const S=new Qs(A.target,y,_,A.sequenceNumber);Zm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Kr,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!ro(t))throw t;r.Ea.add(1),await Gl(r),r.Ra.set("Offline"),i||(i=()=>mT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await _h(r)}))}function ET(r,t){return t().catch((i=>nh(r,i,t)))}async function vh(r){const t=St(r),i=ir(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;dC(t);)try{const l=await YI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,mC(t,l)}catch(l){await nh(t,l)}TT(t)&&AT(t)}function dC(r){return Xr(r)&&r.Ta.length<10}function mC(r,t){r.Ta.push(t);const i=ir(r);i.O_()&&i.X_&&i.ea(t.mutations)}function TT(r){return Xr(r)&&!ir(r).x_()&&r.Ta.length>0}function AT(r){ir(r).start()}async function gC(r){ir(r).ra()}async function pC(r){const t=ir(r);for(const i of r.Ta)t.ea(i.mutations)}async function yC(r,t,i){const a=r.Ta.shift(),l=Bm.from(a,t,i);await ET(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vh(r)}async function _C(r,t){t&&ir(r).X_&&await(async function(a,l){if((function(d){return W2(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();ir(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(a)}})(r,t),TT(r)&&AT(r)}async function a0(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),at(Kr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Gl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function vC(r,t){const i=St(r);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new iC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:uC.bind(null,r),t_:cC.bind(null,r),r_:hC.bind(null,r),H_:fC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Jm(r)?$m(r):r.Ra.set("Unknown")):(await r.ma.stop(),vT(r))}))),r.ma}function ir(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new sC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:gC.bind(null,r),r_:_C.bind(null,r),ta:pC.bind(null,r),na:yC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Wm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,t){if(rs("AsyncQueue",`${t}: ${r}`),ro(r))return new rt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=gl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class o0{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Wa(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class EC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class TC{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=l0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new rt(Z.ABORTED,"Firestore shutting down"))}}function l0(){return new Yr((r=>HE(r)),fh)}async function ST(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new EC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=tg(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&eg(i)}async function bT(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function AC(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&eg(i)}function SC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function eg(r){r.Ca.forEach((t=>{t.next()}))}var mm,u0;(u0=mm||(mm={})).Ma="default",u0.Cache="cache";class wT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class RT{constructor(t){this.key=t}}class IT{constructor(t){this.key=t}}class bC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=GE(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new o0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),Q=dh(this.query,S)?S:null,J=!!x&&this.mutatedKeys.has(x.key),st=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;x&&Q?x.data.isEqual(Q.data)?J!==st&&(a.track({type:3,doc:Q}),W=!0):this.su(x,Q)||(a.track({type:2,doc:Q}),W=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!x&&Q?(a.track({type:0,doc:Q}),W=!0):x&&!Q&&(a.track({type:1,doc:x}),W=!0,(y||_)&&(p=!0)),W&&(Q?(d=d.add(Q),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,J){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return st(Q)-st(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new IT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new RT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class wC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class RC{constructor(t){this.key=t,this.hu=!1}}class IC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>HE(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CC(r,t,i=!0){const a=MT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await CT(a,t,i,!0),l}async function NC(r,t){const i=MT(r);await CT(i,t,!0,!1)}async function CT(r,t,i,a){const l=await XI(r.localStore,Ci(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await DC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&yT(r.remoteStore,l),p}async function DC(r,t,i,a,l){r.pu=(S,x,Q)=>(async function(st,W,mt,Et){let yt=W.view.ru(mt);yt.Cs&&(yt=await e0(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,yt))));const Gt=Et&&Et.targetChanges.get(W.targetId),Ft=Et&&Et.targetMismatches.get(W.targetId)!=null,kt=W.view.applyChanges(yt,st.isPrimaryClient,Gt,Ft);return h0(st,W.targetId,kt.au),kt.snapshot})(r,S,x,Q);const c=await e0(r.localStore,t,!0),d=new bC(t,c.Qs),p=d.ru(c.documents),y=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);h0(r,i,_.au);const A=new wC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function OC(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Xm(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(so)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function xC(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function MC(r,t,i){const a=jC(r);try{const l=await(function(d,p){const y=St(d),_=ae.now(),A=p.reduce(((Q,J)=>Q.add(J.key)),Vt());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=as(),st=Vt();return y.Ns.getEntries(Q,A).next((W=>{J=W,J.forEach(((mt,Et)=>{Et.isValidDocument()||(st=st.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,J))).next((W=>{S=W;const mt=[];for(const Et of p){const yt=Y2(Et,S.get(Et.key).overlayedDocument);yt!=null&&mt.push(new ar(Et.key,yt,kE(yt.value.mapValue),ni.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,mt,p)})).next((W=>{x=W;const mt=W.applyToLocalDocumentSet(S,st);return y.documentOverlayCache.saveOverlays(Q,W.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:QE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Mt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Fl(a,l.changes),await vh(a.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");i.reject(c)}}async function NT(r,t){const i=St(r);try{const a=await QI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Fl(i,a,t)}catch(a){await so(a)}}function c0(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(p)&&(_=!0)})),_&&eg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function VC(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,We.newNoDocument(c,Tt.min()));const p=Vt().add(c),y=new ph(Tt.min(),new Map,new ue(Mt),d,p);await NT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ig(a)}else await fm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(so)}async function kC(r,t){const i=St(r),a=t.batch.batchId;try{const l=await FI(i.localStore,t);OT(i,a,null),DT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await so(l)}}async function UC(r,t,i){const a=St(r);try{const l=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);OT(a,t,i),DT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await so(l)}}function DT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function OT(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||xT(r,a)}))}function xT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Xm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ig(r))}function h0(r,t,i){for(const a of i)a instanceof RT?(r.Ru.addReference(a.key,t),LC(r,a)):a instanceof IT?(at(ng,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||xT(r,a.key)):_t(19791,{wu:a})}function LC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(ng,"New document in limbo: "+i),r.Eu.add(a),ig(r))}function ig(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(ie.fromString(t)),a=r.fu.next();r.Au.set(a,new RC(i)),r.du=r.du.insert(i,a),yT(r.remoteStore,new Qs(Ci(zm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Fl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Km.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=St(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(x=>$.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(S,x.targetId,Q))).next((()=>$.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,x.targetId,Q)))))))))}catch(S){if(!ro(S))throw S;at(Ym,"Failed to update sequence numbers: "+S)}for(const S of _){const x=S.targetId;if(!S.fromCache){const Q=A.Ms.get(x),J=Q.snapshotVersion,st=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,st)}}})(a.localStore,c))}async function PC(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){at(ng,"User change. New user:",t.toKey());const a=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new rt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ls)}}function zC(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function MT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VC.bind(null,t),t.Pu.H_=AC.bind(null,t.eventManager),t.Pu.yu=SC.bind(null,t.eventManager),t}function jC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UC.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return GI(this.persistence,new qI,t.initialUser,this.serializer)}Cu(t){return new fT(Qm.mi,this.serializer)}Du(t){return new $I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class qC extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new RI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new fT((a=>eh.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>c0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PC.bind(null,this.syncEngine),await vC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TC})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),a=(function(c){return new nC(c)})(t.databaseInfo);return(function(c,d,p,y){return new aC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new lC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>c0(this.syncEngine,i,0)),(function(){return s0.v()?new s0:new JI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new IC(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);at(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class VT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const sr="FirestoreClient";class BC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=tg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(r,t){r.asyncQueue.verifyOperationInProgress(),at(sr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await dT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function f0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await HC(r);at(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>a0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>a0(t.remoteStore,l))),r._onlineComponents=t}async function HC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(sr,"Using user provided OfflineComponentProvider");try{await qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await qd(r,new ih)}}else at(sr,"Using default OfflineComponentProvider"),await qd(r,new qC(void 0));return r._offlineComponents}async function kT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(sr,"Using user provided OnlineComponentProvider"),await f0(r,r._uninitializedComponentsProvider._online)):(at(sr,"Using default OnlineComponentProvider"),await f0(r,new pm))),r._onlineComponents}function GC(r){return kT(r).then((t=>t.syncEngine))}async function ym(r){const t=await kT(r),i=t.eventManager;return i.onListen=CC.bind(null,t.syncEngine),i.onUnlisten=OC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=NC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=xC.bind(null,t.syncEngine),i}function FC(r,t,i={}){const a=new $s;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new VT({next:x=>{A.Nu(),d.enqueueAndForget((()=>bT(c,S))),x.fromCache&&y.source==="server"?_.reject(new rt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new wT(p,A,{includeMetadataChanges:!0,qa:!0});return ST(c,S)})(await ym(r),r.asyncQueue,t,i,a))),a.promise}function UT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const d0=new Map;const LT="firestore.googleapis.com",m0=!0;class g0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=m0}else this.host=t.host,this.ssl=t.ssl??m0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bI)throw new rt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new JR;switch(a.type){case"firstParty":return new n2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=d0.get(i);a&&(at("ComponentProvider","Removing Datastore"),d0.delete(i),a.terminate())})(this),Promise.resolve()}}function QC(r,t,i,a={}){r=jr(r,Eh);const l=to(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(O0(`https://${p}`),x0("Firestore",!0)),c.host!==LT&&c.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Hr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Je.MOCK_USER;else{_=TS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(S)}r._authCredentials=new WR(new SE(_,A))}}class Zr{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zr(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jl(i,Me._jsonSchema))return new Me(t,a||null,new dt(ie.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ne("string",Me._jsonSchemaVersion),referencePath:Ne("string")};class Js extends Zr{constructor(t,i,a){super(t,i,zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new dt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function p0(r,t,...i){if(r=je(r),bE("collection","path",t),r instanceof Eh){const a=ie.fromString(t,...i);return Cv(a),new Js(r,null,a)}{if(!(r instanceof Me||r instanceof Js))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return Cv(a),new Js(r.firestore,null,a)}}function KC(r,t,...i){if(r=je(r),arguments.length===1&&(t=Mm.newId()),bE("doc","path",t),r instanceof Eh){const a=ie.fromString(t,...i);return Iv(a),new Me(r,null,new dt(a))}{if(!(r instanceof Me||r instanceof Js))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return Iv(a),new Me(r.firestore,r instanceof Js?r.converter:null,new dt(a))}}const y0="AsyncQueue";class _0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&at(y0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;at(y0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",v0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Wm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:v0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function v0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function E0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class xl extends Eh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new _0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _0(t),this._firestoreClient=void 0,await t}}}function YC(r,t){const i=typeof r=="object"?r:U0(),a=typeof r=="string"?r:Yc,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=vS("firestore");c&&QC(l,...c)}return l}function Th(r){if(r._terminated)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XC(r),r._firestoreClient}function XC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new v2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,UT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new BC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Xe.fromBase64String(t))}catch(i){throw new rt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ne("string",qn._jsonSchemaVersion),bytes:Ne("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sg{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(jl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ne("string",Di._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Oi(t.vectorValues);throw new rt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),vectorValues:Ne("object")};const ZC=/^__.*__$/;class $C{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bl(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class rg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zT(this.Ac)&&ZC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class JC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||yh(t)}Cc(t,i,a,l=!1){return new rg({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(r){const t=r._freezeSettings(),i=yh(r._databaseId);return new JC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function WC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ag("Data must be an object, but it was:",d,a);const p=qT(a,d);let y,_;if(c.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const x=_m(t,S,i);if(!d.contains(x))throw new rt(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);HT(A,x)||A.push(x)}y=new wn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new $C(new mn(p),y,_)}class Sh extends sg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sh}}function tN(r,t,i,a){const l=r.Cc(1,t,i);ag("Data must be an object, but it was:",l,a);const c=[],d=mn.empty();rr(a,((y,_)=>{const A=og(t,y,i);_=je(_);const S=l.yc(A);if(_ instanceof Sh)c.push(A);else{const x=Ql(_,S);x!=null&&(c.push(A),d.set(A,x))}}));const p=new wn(c);return new PT(d,p,l.fieldTransforms)}function eN(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[_m(t,a,i)],y=[l];if(c.length%2!=0)throw new rt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(_m(t,c[x])),y.push(c[x+1]);const _=[],A=mn.empty();for(let x=p.length-1;x>=0;--x)if(!HT(_,p[x])){const Q=p[x];let J=y[x];J=je(J);const st=d.yc(Q);if(J instanceof Sh)_.push(Q);else{const W=Ql(J,st);W!=null&&(_.push(Q),A.set(Q,W))}}const S=new wn(_);return new PT(A,S,d.fieldTransforms)}function nN(r,t,i,a=!1){return Ql(i,r.Cc(a?4:3,t))}function Ql(r,t){if(BT(r=je(r)))return ag("Unsupported field value:",t,r),qT(r,t);if(r instanceof sg)return(function(a,l){if(!zT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Ql(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return B2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof Me){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Oi)return(function(d,p){return{mapValue:{fields:{[ME]:{stringValue:VE},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return jm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${lh(a)}`)})(r,t)}function qT(r,t){const i={};return IE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(r,((a,l)=>{const c=Ql(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Di||r instanceof qn||r instanceof Me||r instanceof sg||r instanceof Oi)}function ag(r,t,i){if(!BT(i)||!wE(i)){const a=lh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function _m(r,t,i){if((t=je(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return og(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const iN=new RegExp("[~\\*/\\[\\]]");function og(r,t,i){if(t.search(iN)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new rt(Z.INVALID_ARGUMENT,p+r+y)}function HT(r,t){return r.some((i=>i.isEqual(t)))}class GT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(FT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class sN extends GT{data(){return super.data()}}function FT(r,t){return typeof t=="string"?og(r,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}function QT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class rN extends lg{}function aN(r,t,...i){let a=[];t instanceof lg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof cg)).length,p=c.filter((y=>y instanceof ug)).length;if(d>1||d>0&&p>0)throw new rt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class ug extends rN{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new ug(t,i,a)}_apply(t){const i=this._parse(t);return KT(t._query,i),new Zr(t.firestore,t.converter,am(t._query,i))}_parse(t){const i=jT(t.firestore);return(function(c,d,p,y,_,A,S){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){A0(S,A);const J=[];for(const st of S)J.push(T0(y,c,st));x={arrayValue:{values:J}}}else x=T0(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||A0(S,A),x=nN(p,d,S,A==="in"||A==="not-in");return Ce.create(_,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class cg extends lg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new cg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)KT(d,y),d=am(d,y)})(t._query,i),new Zr(t.firestore,t.converter,am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(r,t,i){if(typeof(i=je(i))=="string"){if(i==="")throw new rt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BE(t)&&i.indexOf("/")!==-1)throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ie.fromString(i));if(!dt.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Uv(r,new dt(a))}if(i instanceof Me)return Uv(r,i._key);throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function A0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class oN{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return rr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Oi(i)}convertGeoPoint(t){return new Di(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=tr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Qt(cT(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function lN(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends GT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(FT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ne("string",qr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Pc extends qr{data(t={}){return super.data(t)}}class Br{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:uN(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Br._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}Br._jsonSchemaVersion="firestore/querySnapshot/1.0",Br._jsonSchema={type:Ne("string",Br._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class hg extends oN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function cN(r){r=jr(r,Zr);const t=jr(r.firestore,xl),i=Th(t),a=new hg(t);return QT(r._query),FC(i,r._query).then((l=>new Br(t,a,r,l)))}function hN(r,...t){r=je(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||E0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(E0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Me)d=jr(r.firestore,xl),p=zm(r._key.path),c={next:y=>{t[a]&&t[a](dN(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=jr(r,Zr);d=jr(y.firestore,xl),p=y._query;const _=new hg(d);c={next:A=>{t[a]&&t[a](new Br(d,_,y,A))},error:t[a+1],complete:t[a+2]},QT(r._query)}return(function(_,A,S,x){const Q=new VT(x),J=new wT(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>ST(await ym(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>bT(await ym(_),J)))}})(Th(d),p,l,c)}function fN(r,t){return(function(a,l){const c=new $s;return a.asyncQueue.enqueueAndForget((async()=>MC(await GC(a),l,c))),c.promise})(Th(r),t)}function dN(r,t,i){const a=i.docs.get(t._key),l=new hg(r);return new qr(r,l,t._key,a,new yl(i.hasPendingWrites,i.fromCache),t.converter)}class mN{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=jT(t)}set(t,i,a){this._verifyNotCommitted();const l=Bd(t,this._firestore),c=lN(l.converter,i,a),d=WC(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,ni.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Bd(t,this._firestore);let d;return d=typeof(i=je(i))=="string"||i instanceof Ah?eN(this._dataReader,"WriteBatch.update",c._key,i,a,l):tN(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,ni.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Bd(t,this._firestore);return this._mutations=this._mutations.concat(new qm(i._key,ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bd(r,t){if((r=je(r)).firestore!==t)throw new rt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Hd(r){return Th(r=jr(r,xl)),new mN(r,(t=>fN(r,t)))}(function(t,i=!0){(function(l){io=l})(eo),Ka(new Gr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new xl(new t2(a.getProvider("auth-internal")),new i2(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xs(Sv,bv,t),Xs(Sv,bv,"esm2020")})();let vm;try{vm=JSON.parse(__firebase_config)}catch{vm={apiKey:"AIzaSyAbaXteigP5UTtvZ33XUIrXEumQ8HnRhqs",authDomain:"album-video-246b7.firebaseapp.com",projectId:"album-video-246b7",storageBucket:"album-video-246b7.firebasestorage.app",messagingSenderId:"1077095379252",appId:"1:1077095379252:web:d86c8f21ad2b972be27561",measurementId:"G-DPGPRCD160"}}const YT=k0(vm||{}),Gd=ZR(YT),dl=YC(YT),gN=typeof __app_id<"u"?__app_id:"teafriends-gallery",S0=gN.replace(/\//g,"_"),pN="8888",yN="admin",Fd=[{id:"2024-1",name:"20240324()",category:", ",participants:"1, 2",videoLink1:"",thumbnail:"https://lh3.googleusercontent.com/pw/AP1GczODW_eCrv2L_qGXX9QZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZqZ=w3120-h1756-s-no-gm?authuser=1",link:"https://photos.app.goo.gl/78jEZ78wrAksqNdE9",startDate:"2024/03/24",endDate:"2024/03/24"}],_N=r=>r.includes("")||r.includes("")?"bg-amber-100 text-amber-600":r.includes("")?"bg-blue-100 text-blue-600":r.includes("")?"bg-purple-100 text-purple-600":r.includes("")||r.includes("")||r.includes("")?"bg-emerald-100 text-emerald-600":"bg-teal-100 text-teal-600",vN=()=>{const[r,t]=ne.useState([]),[i,a]=ne.useState(!0),[l,c]=ne.useState(""),[d,p]=ne.useState("All"),[y,_]=ne.useState("desc"),[A,S]=ne.useState(!1),[x,Q]=ne.useState(null),[J,st]=ne.useState(!0),[W,mt]=ne.useState(""),[Et,yt]=ne.useState(""),[Gt,Ft]=ne.useState(!1),[kt,C]=ne.useState(!1),[b,R]=ne.useState(""),[M,N]=ne.useState(""),[k,w]=ne.useState("");ne.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Uw(Gd,__initial_auth_token):await Ow(Gd)}catch(ot){console.warn("Auth init warning (ignoring due to public access mode):",ot)}})();const et=zw(Gd,Q);return()=>et()},[]),ne.useEffect(()=>{try{const B=aN(p0(dl,"artifacts",S0,"public","data","albums")),et=hN(B,ot=>{const ut=ot.docs.map(gt=>({id:gt.id,...gt.data()}));ut.length>0?t(ut):t(Fd),a(!1)},ot=>{console.error("Error fetching data:",ot),t(Fd),a(!1)});return()=>et()}catch(B){console.error("Firestore Init Error:",B),a(!1),t(Fd)}},[]),ne.useEffect(()=>{const B=()=>{S(window.scrollY>300)};return window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)},[]);const ee=()=>{window.scrollTo({top:0,behavior:"smooth"})},fe=ne.useMemo(()=>{const B=new Set;return r.forEach(et=>{(et.category?et.category.replace(/^"|"$/g,""):"").split(/,\s*/).forEach(gt=>{gt.trim()&&B.add(gt.trim())})}),Array.from(B).sort()},[r]),G=ne.useMemo(()=>r.filter(et=>{const ot=et.name&&et.name.toLowerCase().includes(l.toLowerCase())||et.participants&&et.participants.toLowerCase().includes(l.toLowerCase())||et.startDate&&et.startDate.includes(l)||et.endDate&&et.endDate.includes(l),ut=et.category?et.category.replace(/^"|"$/g,""):"",gt=d==="All"||ut.includes(d);return ot&&gt}).sort((et,ot)=>{const ut=new Date(et.startDate?et.startDate.replace(/\//g,"-"):"").getTime(),gt=new Date(ot.startDate?ot.startDate.replace(/\//g,"-"):"").getTime(),Rt=!isNaN(ut),De=!isNaN(gt);return!Rt&&!De?0:Rt?De?y==="desc"?gt-ut:ut-gt:-1:1}),[r,l,d,y]),nt=()=>{_(B=>B==="desc"?"asc":"desc")},ht=B=>{const et=[];let ot=0,ut=!1;for(let gt=0;gt<B.length;gt++)B[gt]==='"'?ut=!ut:B[gt]===","&&!ut&&(et.push(B.substring(ot,gt)),ot=gt+1);return et.push(B.substring(ot)),et.map(gt=>{let Rt=gt.trim();return Rt.startsWith('"')&&Rt.endsWith('"')&&(Rt=Rt.substring(1,Rt.length-1)),Rt.replace(/""/g,'"')})},Ut=async B=>{w("...");const et=500,ot=p0(dl,"artifacts",S0,"public","data","albums");try{w("...");const ut=await cN(ot),gt=Hd(dl);ut.docs.forEach(Rt=>{gt.delete(Rt.ref)}),await gt.commit()}catch(ut){console.error(" ()",ut)}try{let ut=Hd(dl),gt=0,Rt=0;for(let De=0;De<B.length;De++){const Rn=B[De],Bn=KC(ot);ut.set(Bn,Rn),gt++,gt>=et&&(await ut.commit(),ut=Hd(dl),gt=0,Rt++,w(` ${De+1} / ${B.length} ...`))}gt>0&&await ut.commit(),w(""),setTimeout(()=>{Ft(!1),w(""),c(""),p("All")},1500)}catch(ut){console.error(":",ut),w(": "+ut.message),ut.code==="permission-denied"?alert(`
 Firebase Console -> Firestore Database -> Rules allow write  true`):alert(": "+ut.message)}},qt=B=>{const et=B.target.files?.[0];if(!et)return;const ot=new FileReader;ot.onload=ut=>{const gt=ut.target?.result;if(!gt)return;const Rt=gt.split(/\r\n|\n|\r/),De=[];for(let Rn=1;Rn<Rt.length;Rn++){const Bn=Rt[Rn].trim();if(!Bn)continue;const ke=ht(Bn);if(ke.length>=1){const gn=ke[6]||"",or=gn.startsWith("http");De.push({name:ke[0]||"",category:ke[1]||"",participants:ke[2]||"",videoLink2:ke[3],videoLink3:ke[4],videoLink1:ke[5],thumbnail:or?gn:void 0,link:ke[7],endDate:ke[8],startDate:ke[9]})}}De.length>0?Ut(De):alert("")},ot.readAsText(et)},O=B=>{B.preventDefault(),W===pN?(st(!1),yt("")):yt("")},Y=B=>{B.preventDefault(),b===yN?(C(!1),Ft(!0),N(""),R("")):N("")},it=()=>{C(!0),N(""),R("")};return J?j.jsx("div",{className:"min-h-screen bg-stone-100 flex items-center justify-center p-4",children:j.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center space-y-6 animate-in fade-in zoom-in duration-300",children:[j.jsx("div",{className:"mx-auto w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mb-4",children:j.jsx(nS,{className:"w-10 h-10"})}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-2xl font-bold text-stone-800 mb-2",children:" - "}),j.jsx("p",{className:"text-stone-500",children:""})]}),j.jsxs("form",{onSubmit:O,className:"space-y-4",children:[j.jsx("div",{className:"relative",children:j.jsx("input",{type:"password",placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition-all text-center tracking-widest text-lg",value:W,onChange:B=>mt(B.target.value),autoFocus:!0})}),Et&&j.jsx("p",{className:"text-red-500 text-sm font-medium",children:Et}),j.jsx("button",{type:"submit",className:"w-full py-3 bg-teal-600 hover:bg-teal-700 text-white font-bold rounded-lg transition-colors shadow-md",children:""}),j.jsx("p",{className:"text-xs text-stone-400 mt-4",children:" 8888"})]})]})}):j.jsxs("div",{className:"min-h-screen bg-stone-50 text-stone-800 font-sans",children:[j.jsx("header",{className:"bg-white shadow-sm border-b border-stone-200 sticky top-0 z-30 transition-all duration-300",children:j.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[j.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[j.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>{c(""),p("All"),ee()},children:[j.jsx("div",{className:"p-2.5 bg-gradient-to-br from-teal-500 to-emerald-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:scale-105",children:j.jsx(G_,{className:"w-6 h-6 text-white"})}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-2xl font-bold text-stone-900 tracking-tight group-hover:text-teal-700 transition-colors",children:""}),j.jsx("p",{className:"text-xs text-stone-500 font-medium flex items-center gap-1",children:i?j.jsxs("span",{className:"flex items-center text-teal-600",children:[j.jsx(F_,{className:"w-3 h-3 animate-spin mr-1"})," ..."]}):j.jsxs("span",{className:"flex items-center",children:[j.jsx(H_,{className:"w-3 h-3 mr-1"}),"  ",r.length," "]})})]})]}),j.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[j.jsxs("div",{className:"relative flex-1 md:w-72",children:[j.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:j.jsx(Q_,{className:"h-4 w-4 text-stone-400"})}),j.jsx("input",{type:"text",placeholder:"...",className:"block w-full pl-10 pr-3 py-2.5 border border-stone-200 rounded-full leading-5 bg-stone-50 placeholder-stone-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm transition-all shadow-sm",value:l,onChange:B=>c(B.target.value)}),l&&j.jsx("button",{onClick:()=>c(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-stone-400 hover:text-stone-600",children:j.jsx(Ac,{className:"w-4 h-4"})})]}),j.jsxs("button",{onClick:it,className:"p-2.5 text-stone-500 bg-white border border-stone-200 hover:text-teal-600 hover:border-teal-200 hover:bg-teal-50 rounded-full transition-all shadow-sm tooltip flex items-center gap-2",title:" ()",children:[j.jsx(K_,{className:"w-5 h-5"}),j.jsx("span",{className:"text-xs font-medium hidden md:inline",children:""})]})]})]}),j.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 pb-1 overflow-x-auto no-scrollbar items-center select-none",children:[j.jsx("button",{onClick:nt,className:"flex items-center gap-1.5 px-3 py-1 bg-white text-stone-600 border border-stone-200 hover:border-teal-300 hover:text-teal-600 hover:bg-teal-50 rounded-full text-xs font-medium transition-all mr-2",title:y==="desc"?"":"",children:y==="desc"?j.jsxs(j.Fragment,{children:[j.jsx(qA,{className:"w-3.5 h-3.5"}),""]}):j.jsxs(j.Fragment,{children:[j.jsx(HA,{className:"w-3.5 h-3.5"}),""]})}),j.jsxs("div",{className:"flex items-center text-stone-400 mr-2 text-xs font-medium uppercase tracking-wider border-l border-stone-300 pl-3",children:[j.jsx(WA,{className:"w-3 h-3 mr-1"}),""]}),j.jsx("button",{onClick:()=>p("All"),className:`px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ${d==="All"?"bg-stone-800 text-white shadow-md transform scale-105":"bg-white text-stone-600 border border-stone-200 hover:border-stone-400 hover:bg-stone-50"}`,children:""}),fe.map(B=>j.jsx("button",{onClick:()=>p(B),className:`px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap ${d===B?"bg-teal-600 text-white shadow-md transform scale-105":"bg-white text-stone-600 border border-stone-200 hover:border-teal-300 hover:text-teal-600 hover:bg-teal-50"}`,children:B},B))]})]})}),j.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-[calc(100vh-200px)]",children:[j.jsxs("div",{className:"mb-6 flex items-end justify-between border-b border-stone-200 pb-2",children:[j.jsxs("h2",{className:"text-xl font-bold text-stone-800 flex items-center gap-2",children:[d==="All"?"":d,j.jsx("span",{className:"text-sm font-normal text-stone-500 bg-stone-100 px-2 py-0.5 rounded-full",children:i?"...":G.length})]}),j.jsxs("span",{className:"text-xs text-stone-400",children:["",y==="desc"?" ()":" ()"]})]}),i?j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse",children:[1,2,3,4,5,6].map(B=>j.jsx("div",{className:"h-80 bg-stone-200 rounded-xl"},B))}):G.length>0?j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:G.map(B=>j.jsxs("article",{className:"group bg-white rounded-xl shadow-sm hover:shadow-xl hover:-translate-y-1 border border-stone-100 overflow-hidden transition-all duration-300 flex flex-col h-full relative",children:[j.jsx("div",{className:"absolute top-3 left-3 z-10 flex flex-wrap gap-1",children:B.category&&B.category.replace(/^"|"$/g,"").split(/,\s*/).map((et,ot)=>j.jsx("span",{className:"bg-white/90 backdrop-blur-md text-stone-700 text-[10px] font-bold px-2 py-1 rounded shadow-sm border border-stone-100",children:et.trim()},ot))}),j.jsxs("a",{href:B.link||"#",target:"_blank",rel:"noopener noreferrer",className:`block h-52 w-full ${_N(B.category||"")} relative overflow-hidden cursor-pointer group-hover:brightness-105 transition-all`,title:B.link?" Google ":"",children:[B.thumbnail?j.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[j.jsx("img",{src:B.thumbnail,alt:B.name,referrerPolicy:"no-referrer",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700",loading:"lazy",onError:et=>{et.target.style.display="none"}}),j.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):j.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center relative",children:[j.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(#444_1px,transparent_1px)] [background-size:16px_16px]"}),j.jsx(G_,{className:"w-12 h-12 opacity-30 transform group-hover:scale-110 group-hover:opacity-50 transition-all duration-500 mb-2"}),j.jsx("span",{className:"text-xs font-medium opacity-40",children:""})]}),B.link&&j.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/60 text-white text-xs px-2.5 py-1.5 rounded-full backdrop-blur-sm flex items-center gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0",children:[" ",j.jsx(XA,{className:"w-3 h-3"})]})]}),j.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[j.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-semibold text-teal-600 mb-2",children:[j.jsx(FA,{className:"w-3.5 h-3.5"}),j.jsx("time",{children:B.startDate}),B.startDate!==B.endDate&&B.endDate&&j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"text-stone-300",children:"|"}),j.jsx("time",{children:B.endDate})]})]}),j.jsx("h3",{className:"text-lg font-bold text-stone-800 leading-snug mb-3 line-clamp-2 group-hover:text-teal-700 transition-colors",children:j.jsx("a",{href:B.link||"#",target:"_blank",rel:"noopener noreferrer",children:B.name})}),j.jsx("div",{className:"mb-4",children:j.jsxs("div",{className:"flex items-start gap-2",children:[j.jsx(uS,{className:"w-4 h-4 text-stone-400 mt-0.5 flex-shrink-0"}),j.jsx("p",{className:"text-xs text-stone-500 leading-relaxed line-clamp-2 hover:line-clamp-none transition-all cursor-default",title:B.participants,children:B.participants||""})]})}),j.jsx("div",{className:"mt-auto pt-4 border-t border-stone-100 flex items-center gap-2 flex-wrap min-h-[40px]",children:B.videoLink1||B.videoLink2||B.videoLink3?j.jsxs("div",{className:"flex gap-2 w-full",children:[B.videoLink1&&j.jsxs("a",{href:B.videoLink1,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 transition-colors border border-red-100 group/btn",children:[j.jsx(Nd,{className:"w-3.5 h-3.5 group-hover/btn:fill-current"}),j.jsx("span",{className:"truncate",children:" 1"})]}),B.videoLink2&&j.jsxs("a",{href:B.videoLink2,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 transition-colors border border-red-100 group/btn",children:[j.jsx(Nd,{className:"w-3.5 h-3.5 group-hover/btn:fill-current"}),j.jsx("span",{className:"truncate",children:" 2"})]}),!B.videoLink2&&!B.videoLink3&&j.jsxs("span",{className:"text-[10px] text-stone-400 self-center ml-auto",children:[j.jsx($A,{className:"w-3 h-3 inline mr-1"}),""]}),B.videoLink3&&j.jsxs("a",{href:B.videoLink3,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 transition-colors border border-red-100 group/btn",children:[j.jsx(Nd,{className:"w-3.5 h-3.5 group-hover/btn:fill-current"}),j.jsx("span",{className:"truncate",children:" 3"})]})]}):j.jsx("div",{className:"w-full text-center",children:j.jsx("span",{className:"text-[10px] text-stone-300 italic",children:""})})})]})]},B.id))}):j.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl border border-dashed border-stone-200",children:[j.jsx("div",{className:"mx-auto h-16 w-16 bg-stone-50 rounded-full flex items-center justify-center mb-4 text-stone-300 animate-pulse",children:j.jsx(Q_,{className:"w-8 h-8"})}),j.jsx("h3",{className:"text-xl font-bold text-stone-800 mb-1",children:""}),j.jsx("p",{className:"text-stone-500 mb-6 max-w-xs mx-auto text-sm",children:""}),j.jsxs("button",{onClick:()=>{c(""),p("All")},className:"px-6 py-2.5 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition-all shadow-md hover:shadow-lg font-medium text-sm flex items-center gap-2 mx-auto",children:[j.jsx(Ac,{className:"w-4 h-4"})," "]})]})]}),kt&&j.jsx("div",{className:"fixed inset-0 bg-stone-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:j.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 animate-in fade-in zoom-in duration-200",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsxs("h3",{className:"text-lg font-bold text-stone-800 flex items-center gap-2",children:[j.jsx(K_,{className:"w-5 h-5 text-teal-600"}),""]}),j.jsx("button",{onClick:()=>C(!1),className:"text-stone-400 hover:text-stone-600",children:j.jsx(Ac,{className:"w-5 h-5"})})]}),j.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[j.jsx("p",{className:"text-sm text-stone-500",children:""}),j.jsx("input",{type:"password",placeholder:"",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:b,onChange:B=>R(B.target.value),autoFocus:!0}),M&&j.jsx("p",{className:"text-red-500 text-xs font-medium",children:M}),j.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[j.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-stone-500 hover:bg-stone-100 rounded-lg text-sm",children:""}),j.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 text-white hover:bg-teal-700 rounded-lg text-sm font-medium",children:""})]}),j.jsx("p",{className:"text-[10px] text-stone-300 text-center",children:": admin"})]})]})}),Gt&&j.jsx("div",{className:"fixed inset-0 bg-stone-900/60 backdrop-blur-md z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:j.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8 animate-in fade-in zoom-in duration-200 relative overflow-hidden",children:[j.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-teal-400 to-emerald-500"}),j.jsx("button",{onClick:()=>Ft(!1),className:"absolute top-4 right-4 p-1.5 hover:bg-stone-100 rounded-full text-stone-400 hover:text-stone-600 transition-colors",children:j.jsx(Ac,{className:"w-5 h-5"})}),j.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j.jsx(H_,{className:"w-6 h-6 text-teal-600"}),j.jsx("h3",{className:"text-2xl font-bold text-stone-800",children:""})]}),j.jsxs("p",{className:"text-sm text-stone-500 mb-6 leading-relaxed",children:[" ",j.jsx("code",{children:".csv"})," ",j.jsx("br",{}),j.jsx("span",{className:"text-amber-600 font-medium",children:""}),""]}),k?j.jsxs("div",{className:"w-full py-8 text-center",children:[j.jsx(F_,{className:"w-8 h-8 text-teal-600 animate-spin mx-auto mb-2"}),j.jsx("p",{className:"text-stone-600 font-medium",children:k})]}):j.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-stone-200 border-dashed rounded-xl cursor-pointer hover:bg-teal-50/50 hover:border-teal-400 transition-all group relative overflow-hidden",children:[j.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[j.jsx("div",{className:"p-3 bg-stone-100 rounded-full mb-3 group-hover:bg-white group-hover:text-teal-500 transition-all shadow-sm",children:j.jsx(oS,{className:"w-6 h-6 text-stone-400 group-hover:text-teal-500"})}),j.jsx("p",{className:"mb-1 text-sm text-stone-600 font-medium group-hover:text-teal-700",children:"  "}),j.jsx("p",{className:"text-xs text-stone-400",children:" CSV "})]}),j.jsx("input",{type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:qt})]}),!k&&j.jsx("div",{className:"mt-8 flex justify-end gap-3",children:j.jsx("button",{onClick:()=>Ft(!1),className:"px-5 py-2 text-stone-500 font-medium hover:text-stone-800 hover:bg-stone-100 rounded-lg transition-colors",children:""})})]})})]})};VA.createRoot(document.getElementById("root")).render(j.jsx(ne.StrictMode,{children:j.jsx(vN,{})}));
